
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Smart scene Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Message.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_Sdk_Update.html">
            
                <a href="User_Sdk_Update.html">
            
                    
                    Migration of a Series of SDK Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    User uid Login System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Third_Login.html">
            
                <a href="User_Third_Login.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_Logout.html">
            
                <a href="User_Logout.html">
            
                    
                    Lougout, Disable account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_Data_Model.html">
            
                <a href="User_Data_Model.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Home management
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Home_Manager.html">
            
                <a href="Home_Manager.html">
            
                    
                    Home Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Home_Option.html">
            
                <a href="Home_Option.html">
            
                    
                    Operation Class of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Home_Member.html">
            
                <a href="Home_Member.html">
            
                    
                    Home Member Management Class
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../.resource/Room.md">
            
                <span>
            
                    
                    Room information management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator_Wifi.html">
            
                <a href="Activator_Wifi.html">
            
                    
                    Wifi Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator_ZigbeeSub.html">
            
                <a href="Activator_ZigbeeSub.html">
            
                    
                    ZigBee Gateway Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    [Device Control]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device_Data_Channel.html">
            
                <a href="Device_Data_Channel.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Shared devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared_Device_add.html">
            
                <a href="Shared_Device_add.html">
            
                    
                    Add for Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared_Device_Remove.html">
            
                <a href="Shared_Device_Remove.html">
            
                    
                    Removing Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Shared_Device_Rename.html">
            
                <a href="Shared_Device_Rename.html">
            
                    
                    Modifying Remark Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Smart scene
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart scene
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    Gateway
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Smart scene</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="smart">Smart</h1>
<h2 id="brief-introduction">Brief Introduction</h2>
<p>Smart divides into scene or automation actions. Scene is a condition that users add actions and it is triggered manually; automation action is a condition set by the user, and the set action is automatically executed when the condition is triggered.</p>
<p>In the Tuya smart Android SDK, smart includes the unified management interface of scene or automation actions, TuyaHomeSdk.TuyaHomeSdk.getSceneManagerInstance() and the independent operation interface TuyaHomeSdk.newSceneInstance(String sceneId). The independent operation interface needs to be initialized with the scene id. The scene id can be obtained in the result of <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%2310.1" target="_blank">obtaining the scene list interface.</a></p>
<p><strong>In the following documents, manual scene and automated scene are simply referred to as scene.</strong></p>
<h2 id="obtain-scene-list">Obtain scene list</h2>
<p><strong>[Description]</strong></p>
<p>Get the scene list, which can be used when the scene home page is initialized. Determine the manual scene and automation actions through SceneBean&apos;s getConditions(); the value is empty when it is a manual scene.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Obtain scene list
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getSceneList</span><span class="hljs-params">(ITuyaDataCallback&lt;List&lt;SceneBean&gt;&gt; callback)</span>
Among, the interface of SceneBean is defined as follows

<span class="hljs-comment">/**
 \* Obtain scene id
 \* @returnScene id
 */</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title">getId</span><span class="hljs-params">()</span>

<span class="hljs-comment">/**
 \*  *  Obtain scene name
 \* @returnScene name
 */</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span>

<span class="hljs-comment">/**
 \*  Obtain scene conditions 
 \* @returnScene condition
 */</span>
<span class="hljs-keyword">public</span> List&lt;SceneCondition&gt; <span class="hljs-title">getConditions</span><span class="hljs-params">()</span>

<span class="hljs-comment">/**
 \*  Obtain scene task
 \* @returnScene task
 */</span>
<span class="hljs-keyword">public</span> List&lt;SceneTask&gt; <span class="hljs-title">getActions</span><span class="hljs-params">()</span>
</span></code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getSceneList(<span class="hljs-keyword">new</span> ITuyaResultCallback&lt;List&lt;SceneBean&gt;&gt;() {
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;SceneBean&gt; result)</span> </span>{
      }

      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
      }
});
</code></pre>
<p><strong>Automation actions</strong></p>
<p>User-settable conditions include weather conditions, device status and timer.</p>
<ul>
<li>Weather type</li>
</ul>
<p>Weather conditions include temperature, humidity, weather, PM2.5, air quality, sunrise and sunset, and cities can be freely selected. The weather conditions that can be selected vary depending on the device in the user account.</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Create weather conditions
 *
 \* <span class="hljs-doctag">@param</span> place weather city 
 \* <span class="hljs-doctag">@param</span> type condition type
 \* <span class="hljs-doctag">@param</span> rule  condition regulations
 \* <span class="hljs-doctag">@return</span>
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SceneCondition <span class="hljs-title">createWeatherCondition</span><span class="hljs-params">(
      PlaceFacadeBean place, 
      String type,
      Rule rule)</span>
</span></code></pre>
<p>Note: The PlaceFacadeBean class object is obtained from the <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%23%2310.2.4" target="_blank">Obtain City List</a>, <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%23%2310.2.6" target="_blank">Obtain City by Latitude and Longitude</a> and <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%23%2310.2.5" target="_blank">obtain City by City ID</a> interface. Currently, the acquired urban interface only supports domestic cities.</p>
<ul>
<li>Device type</li>
</ul>
<p>A device condition is a scheduled task for another device or devices triggered by a device, when it is in a certain state. <strong>The same device cannot be used as both a condition and a task to avoid cycle control.</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Create device type conditions
 *
 \* <span class="hljs-doctag">@param</span> devBean  condition device
 \* <span class="hljs-doctag">@param</span> dpId    condition dpId
 \* <span class="hljs-doctag">@param</span> rule    condition regulations
 \* <span class="hljs-doctag">@return</span>
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SceneCondition <span class="hljs-title">createDevCondition</span><span class="hljs-params">(
      SceneDevBean devBean,
      String dpId,
      Rule rule)</span>
</span></code></pre>
<p>Note: SceneDevBean class object can be obtained from the interface of <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%23%2310.2.2" target="_blank">Obtain the condition device list</a>.</p>
<ul>
<li>Timer</li>
</ul>
<p>Timer refers that when the specified time is reached, the scheduled task is executed.</p>
<pre><code class="lang-java"><span class="hljs-comment">/**
  \* Create timer conditions
  \* <span class="hljs-doctag">@param</span> display is used to display the user-selected time conditions.
  \* <span class="hljs-doctag">@param</span> name  Name of Timer condition
  \* <span class="hljs-doctag">@param</span> type condition type
  \* <span class="hljs-doctag">@param</span> rule  condition regulations
  \* <span class="hljs-doctag">@return</span>
  */</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SceneCondition <span class="hljs-title">createTimerCondition</span><span class="hljs-params">(String display,String name,String type,Rule rule)</span>
</span></code></pre>
<p>There are four rules for rule-condition rules:</p>
<ul>
<li>Numerical type</li>
</ul>
<p>Taking temperature as an example, the final expression of the numerical type condition is formatted as &quot;temp &gt; 20&quot;. You can get the currently supported temperature maximum, minimum and granularity (stepping) from the Obtain Condition List interface; you can get the supported temperature from the Obtain Condition List. After the configuration is completed on the user interface, the ValueRule.newInstance method is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<p> ValueProperty tempProperty = (ValueProperty) conditionListBean.getProperty();       //Numeric Property</p>
<pre><code class="lang-java"> int max = tempProperty.getMax();       //Maximum value
 int min = tempProperty.getMin();       //Minimum value
 int step = tempProperty.getStep();     //Granularity
 String unit = tempProperty.getUnit();  //Unit
 //The temperature is greater than 20 &#x2103;
 ValueRule tempRule = ValueRule.newInstance(
       &quot;temp&quot;,  //Category
       &quot;&gt;&quot;,     //operational rule (&quot;&gt;&quot;, &quot;==&quot;, &quot;&lt;&quot;)
       20       //Critical value
 ); 
 SceneCondition tempCondition = SceneCondition.createWeatherCondition(
       placeFacadeBean,   //City
       &#x201C;temp&quot;,            //Category
       tempRule           //Rule 
 );
</code></pre>
<ul>
<li>Enumeration type</li>
</ul>
<p>Taking the weather condition as an example, the final expression of the enumeration type condition is formatted as &quot;condition == rainy&quot;. You can get the currently supported weather conditions from the Obtain Condition List interface, including the code and name of each weather condition. After the configuration is completed on the user interface, the EnumRule.newInstancemethod is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<p> EnumProperty weatherProperty = (EnumProperty) conditionListBean.getProperty();  //Enumeration type Property</p>
<pre><code class="lang-java"><span class="hljs-comment">/** 
 {
      {&quot;sunny&quot;, &quot; fine day&quot;},
      {&quot;rainy&quot;, &quot;rainy day&quot;}
 } 
 */</span>
 HashMap&lt;Object, String&gt; enums = weatherProperty.getEnums();
 <span class="hljs-comment">//It&apos;s rainy.</span>
 EnumRule enumRule = EnumRule.newInstance(
               <span class="hljs-string">&quot;condition&quot;</span>,  <span class="hljs-comment">//Category </span>
               <span class="hljs-string">&quot;rainy&quot;</span>        <span class="hljs-comment">// Enumerated value selected</span>
 );
 SceneCondition weatherCondition = SceneCondition.createWeatherCondition(
               placeFacadeBean,    <span class="hljs-comment">//City</span>
               <span class="hljs-string">&quot;condition&quot;</span>,        <span class="hljs-comment">//Category</span>
               enumRule            <span class="hljs-comment">//Rule </span>
 );
</code></pre>
<ul>
<li>Boolean type</li>
</ul>
<p>Boolean types are common in device type conditions, and the final expression is formatted as &quot;dp1 == true&quot;. You need to invoke the Obtain Condition Device List interface to obtain a device that supports the configuration of the smart scene, and then query the operations that the device can support based on the device id. See the Obtain Operations Supported by Device for details. After the configuration is completed on the user interface, the BoolRule.newInstancemethod is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<pre><code class="lang-java">BoolProperty devProperty = (BoolProperty) conditionListBean.getProperty();  <span class="hljs-comment">//Boolean type Property</span>
<span class="hljs-comment">/**
{
  {true, &#x201C;on&quot;},
  {false, &quot;off&quot;}
}
*/</span>
HashMap&lt;Boolean, String&gt; boolMap = devProperty.getBoolMap(); 

<span class="hljs-comment">//When the device starts.</span>
BoolRule boolRule = BoolRule.newInstance(
      <span class="hljs-string">&quot;dp1&quot;</span>,    <span class="hljs-comment">//&quot;dp&quot; + dpId</span>
      <span class="hljs-keyword">true</span>    <span class="hljs-comment">//bool of triggering conditions</span>
);
SceneCondition devCondition = SceneCondition.createDevCondition(
      devBean,    <span class="hljs-comment">//Device </span>
      <span class="hljs-string">&quot;1&quot;</span>,        <span class="hljs-comment">//dpId</span>
      boolRule    <span class="hljs-comment">//Rule </span>
);
</code></pre>
<ul>
<li>Timer type</li>
</ul>
<p>Timer is expressed as a Map type, that is Key: Value. After the user completes the timer configuration, the TimerRule.newInstance is invoked to complete the Map data assembly by the SDK to form the rule condition.</p>
<p>For example:</p>
<pre><code class="lang-java">
TimerProperty timerProperty = (TimerProperty)conditionListBean.
 getProperty();    //Timer-type property


 //TimerRule.newInstance provides two construction methods, the difference is whether it will pass the time zone.
 //If it does not pass the time zone, read default time zone.
 /**
  \* 
  \* @param timeZoneId time zone, the format like &quot;Asia/Shanghai&#x201D;
  \* @param loops 7-digit character string; each digit represents what day of the week; the first digit represents Sunday, and the second digit represents Monday.
  \* By analogy, the character indicates on which days the timer is enabled. 0 indicates not selected; 1 indicates selected, with format like only Monday Selected.
  \* Tuesday: &quot;0110000&quot;&#x3002; If they are not selected, it means that the timer is only executed once, with the format: &quot;0000000&quot;
  \* @param time 24-hour system With format like &quot;08:00&quot;, 
  \* If the user uses the 12-hour system, the developer needs to convert it to a 24-hour system and upload it.
  \* @param date, format like &quot;20180310&quot;
  \* @return
  */

public static TimerRule newInstance(String timeZoneId,String loops,String time,String date);

 //Create timer rule
 TimerRule timerRule = TimerRule.newInstance(&quot;Asia/Shanghai&quot;,&quot;0111110&quot;,&quot;16:00&quot;,&quot;20180310&quot;

 /**

  \* The required parameters have the same meaning as the parameters of the above method, and the default time zone is read.
  \* @param loops
  \* @param time
  \* @param date
  \* @return
  */
 public static TimerRule newInstance(String loops,String time,String date);



 /**

  \* Create timer conditions

  \* @param display  is used to display the user-selected time conditions.

  \* @param name  Name of Timer condition

  \* @param type condition type

  \* @param rule  condition regulations

  \* @return

  */

 public static SceneCondition createTimerCondition(String display,String name,String type,Rule rule);



 //Create timer conditions, taking the Timer rule constructed above as an example.

 SceneCondition.createTimerCondition(

 &quot;Monday, Tuesday, Wednesday, Thursday &amp; Friday&quot;,

 &#x201C;Timer in work day&quot;,

 &quot;timer&quot;,

 timerRule

 )
</code></pre>
<h3 id="obtain-condition-list">Obtain condition list</h3>
<p><strong>[Interface Description]</strong></p>
<p>It can be used to get a list of conditions that are currently supported by the user, as a first step in adding or modifying conditions usually.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java">/**
 \* Obtain condition list
 \* @param showFahrenheit shows Fahrenheit degree or not
 \* @param callback
 */
void getConditionList(boolean showFahrenheit,ITuyaResultCallback&lt;List&lt;ConditionListBean&gt;&gt; callback);
Among,  the interface provided by ConditionListBeanis
/**
 \* Obtain condition category
 *
 \* @return category [1]
 */
public String getType() {
      return type;
}&#xB7;

/**
 \* Obtain condition name
 *
 \* @return name 
 */
public String getName() {
      return name;
}
/**
 \* Obtain Property [2]
 *
 \* @return Property 
 */
public IProperty getProperty() {
      return property;
}
</code></pre>
<p><strong>Note:</strong></p>
<ol>
<li>Currently supported weather condition categories and their names and Property types</li>
</ol>
<table>
<thead>
<tr>
<th><strong>Description</strong></th>
<th><strong>Type</strong></th>
<th><strong>Property Type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Temperature</td>
<td>Temp</td>
<td>ValueProperty</td>
</tr>
<tr>
<td>Humidity</td>
<td>humidity</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Weather</td>
<td>condition</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>PM2.5</td>
<td>pm25</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Air quality</td>
<td>aqi</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Sunrise &amp; sunset</td>
<td>sunsetrise</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Timer</td>
<td>timer</td>
<td>TimerProperty</td>
</tr>
</tbody>
</table>
<ol>
<li>Property is a commonly used data structure in Tuya smart to control devices and other functions. Currently, four properties are available: Regarding Numerical Type, Enumeration Type, Boolean Type, and Timer Type (corresponding to Numeric Type, Enumeration Type and Boolean Type in the condition), each Property is provided with a different access interface. See the rules introduction section above for details.</li>
</ol>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getConditionList(<span class="hljs-keyword">new</span> ITuyaDataCallback&lt;List&lt;ConditionListBean&gt;&gt;() {
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;ConditionListBean&gt; conditionActionBeans)</span> </span>{
      }
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
      }
});
</code></pre>
<h3 id="obtain-the-condition-device-list">Obtain the condition device list</h3>
<p><strong>[Description]</strong></p>
<p>Obtain a list of devices that can be used for conditional settings.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**

 \* Obtain a list of optional devices in the condition

 \* <span class="hljs-doctag">@param</span> homeId Home id

 \* <span class="hljs-doctag">@param</span> callback

 */</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getConditionDevList</span><span class="hljs-params">(<span class="hljs-keyword">long</span> homeId, ITuyaResultCallback&lt;List&lt;DeviceBean&gt;&gt; callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong> </p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getConditionDevList(homeId ,<span class="hljs-keyword">new</span> ITuyaResultCallback&lt;List&lt;DeviceBean&gt;&gt;() {
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;DeviceBean&gt; deviceBeans)</span> </span>{
      }
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
      }
});
</code></pre>
<h3 id="obtain-device-tasks-based-on-device-id">Obtain device tasks based on device id</h3>
<p><strong>[Description]</strong></p>
<p>It is used to obtain the tasks can be selected when selecting the specific trigger conditions of the device.</p>
<pre><code class="lang-java">**[Method Prototype]**

  <span class="hljs-comment">/**
       \* Obtain a list of task conditions supported by the device
       *
       \* <span class="hljs-doctag">@param</span> devId    device id
       \* <span class="hljs-doctag">@param</span> callback
       */</span>
      <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getDeviceConditionOperationList</span><span class="hljs-params">(String devId, ITuyaResultCallback&lt;List&lt;TaskListBean&gt;&gt; callback)</span></span>;
Among, TaskListBean provides interfaces as follows:

<span class="hljs-comment">/**
 \*  obtain the name of dp points for display interface.
 *
 \* <span class="hljs-doctag">@return</span> name of dp points
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> name;
}

<span class="hljs-comment">/**
 \*  Obtain dpId
 *
 \* <span class="hljs-doctag">@return</span> dpId
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getDpId</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> dpId;
}

<span class="hljs-comment">/**
 \* Obtain the operation configured by the dp point
 *
 \*   Format:
 \*     {
 \*       {true, &#x201C;on&quot;},
 \*       {false, &quot;off&quot;}
 \*     {
 *
 \* <span class="hljs-doctag">@return</span> 

 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> HashMap&lt;Object, String&gt; <span class="hljs-title">getTasks</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> tasks;
}
<span class="hljs-comment">/**
 \* Obtain the type bool, value, enum, etc. of the condition. 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getType</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> type;
}
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getDeviceConditionOperationList(
      devId, <span class="hljs-comment">//Device id</span>
      <span class="hljs-keyword">new</span> ITuyaDataCallback&lt;List&lt;TaskListBean&gt;&gt;() {
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;TaskListBean&gt; conditionActionBeans)</span> </span>{
          }
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
          }
});
}
</code></pre>
<h3 id="obtain-the-city-list">Obtain the city list</h3>
<p><strong>[Description]</strong></p>
<p>It is used to select a city when creating weather conditions. Note: Only Chinese cities are supported in the current city list for the time being.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 User can obtain the city list according to the country code.
 *
 \* <span class="hljs-doctag">@param</span> countryCode Country code
 \* <span class="hljs-doctag">@param</span> callback    callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getCityListByCountryCode</span><span class="hljs-params">(String countryCode, ITuyaResultCallback&lt;List&lt;PlaceFacadeBean&gt;&gt; callback)</span></span>;
Among, PlaceFacadeBean category provides interfaces as follows:
<span class="hljs-comment">/**
 \* Obtain area name
 *
 \* <span class="hljs-doctag">@return</span> Area name
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getArea</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> area;
}

<span class="hljs-comment">/**
 \* Obtain name of province
 *
 \* <span class="hljs-doctag">@return</span> province name 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getProvince</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> province;
}
<span class="hljs-comment">/**
 \* Obtain the city name
 *
 \* <span class="hljs-doctag">@return</span> city name 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getCity</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> city;
}

<span class="hljs-comment">/**
 \* Obtain the city id
 *
 \* <span class="hljs-doctag">@return</span> city id
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getCityId</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> cityId;
}
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getCityListByCountryCode(
      <span class="hljs-string">&quot;cn&quot;</span>,  <span class="hljs-comment">//China </span>
      <span class="hljs-keyword">new</span> ITuyaResultCallback&lt;List&lt;PlaceFacadeBean&gt;&gt;() {
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;PlaceFacadeBean&gt; placeFacadeBeans)</span> </span>{

          }
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{

          }
});
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-city-id">Obtain the city information according to the city id.</h3>
<p><strong>[Description]</strong></p>
<p>Obtain the city information according to the city id to display existing weather conditions. City id can be obtained from the Obtain City List interface.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Obtain the city information according to the city id.
 *
 \* <span class="hljs-doctag">@param</span> cityId   cityid{<span class="hljs-doctag">@link</span> PlaceFacadeBean}
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getCityByCityIndex</span><span class="hljs-params">(<span class="hljs-keyword">long</span> cityId, ITuyaResultCallback&lt;PlaceFacadeBean&gt; callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getCityByCityIndex(

      cityId, <span class="hljs-comment">//City id</span>

      <span class="hljs-keyword">new</span> ITuyaResultCallback&lt;PlaceFacadeBean&gt;() {

          <span class="hljs-meta">@Override</span>

          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(PlaceFacadeBean placeFacadeBean)</span> </span>{

          }



          <span class="hljs-meta">@Override</span>

          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{

          }

});
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city">Obtain the city information according to the altitude and longitude of city</h3>
<p><strong>[Description]</strong></p>
<p>Obtain the city information according to the longitude and latitude to display existing weather conditions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Obtain the city information according to the altitude and longitude of city
 *
 \* <span class="hljs-doctag">@param</span> lon      Longitude
 \* <span class="hljs-doctag">@param</span> lat      Latitude
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getCityByLatLng</span><span class="hljs-params">(String lon, String lat, ITuyaResultCallback&lt;PlaceFacadeBean&gt; callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getCityByLatLng(
      String.valueOf(longitude), <span class="hljs-comment">//Longitude </span>
      String.valueOf(latitude),   <span class="hljs-comment">//Latitude </span>
      <span class="hljs-keyword">new</span> ITuyaResultCallback&lt;PlaceFacadeBean&gt;() {
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(PlaceFacadeBean placeFacadeBean)</span> </span>{
          }
          <span class="hljs-meta">@Override</span>
          <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
          }

});
</code></pre>
<h3 id="scene-action">Scene action</h3>
<p>A scene action refers to a control device action executed when a condition is triggered. Actions that can be executed by manual scene include automated scene and smart device, and actions that can be executed by automated scene include manual scene, other automated scene and smart devices. The tasks that users can set vary depending on the user&#x2019;s device. Please note that not every product supports the scene.</p>
<p><strong>Create action</strong></p>
<p><strong>[Description]</strong></p>
<p>It is used to create scene actions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* It is used to create scene actions.
 *
 \* <span class="hljs-doctag">@param</span> devId device id
 \* <span class="hljs-doctag">@param</span> tasks to be implemented task format: { dpId: dp point value}
 \*                          For example:
 \*                          {
 \*                              &quot;1&quot;: true,
 \*                          }
 \* <span class="hljs-doctag">@returnScene</span> action
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SceneTask <span class="hljs-title">createDpTask</span><span class="hljs-params">(@NonNull String devId, HashMap&lt;String, Object&gt; tasks)</span>
</span></code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">HashMap&lt;String, Object&gt; taskMap = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
taskMap.put(<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-keyword">true</span>); <span class="hljs-comment">//Turn on the device</span>
SceneTask task = SceneTask.createDpTask(
      devId,      <span class="hljs-comment">//Device id</span>
      taskMap     <span class="hljs-comment">//Device action</span>
);
</code></pre>
<h3 id="a-list-of-devices-supported-by-obtaining-execution-action">A list of devices supported by obtaining execution action</h3>
<p><strong>[Description]</strong></p>
<p>Obtain a list of devices supporting scene actions for selecting to add to the action to be executed.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Obtain a list of optional devices in the action
 \* <span class="hljs-doctag">@param</span> homeId Home id
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTaskDevList</span><span class="hljs-params">(<span class="hljs-keyword">long</span> homeId, ITuyaResultCallback&lt;List&lt;DeviceBean&gt;&gt; callback)</span></span>;
Among, **DeviceBean****provides interfaces as follows:**
<span class="hljs-comment">/**
 \*  Obtain name of Device
 \* 
 \* <span class="hljs-doctag">@return</span> Device name 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{

      <span class="hljs-keyword">return</span> name;

}



<span class="hljs-comment">/**

 \*  Product ID

 \* 

 \* <span class="hljs-doctag">@return</span> product id

 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getProductId</span><span class="hljs-params">()</span> </span>{

      <span class="hljs-keyword">return</span> productId;

}



<span class="hljs-comment">/**

 \*  Obtain id of device

 \* 

 \* <span class="hljs-doctag">@return</span> device id

 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDevId</span><span class="hljs-params">()</span> </span>{

      <span class="hljs-keyword">return</span> devId;

}



<span class="hljs-comment">/**

 \*  Obtain icon of device

 \* 

 \* <span class="hljs-doctag">@return</span> icon address

 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getIconUrl</span><span class="hljs-params">()</span> </span>{

       <span class="hljs-keyword">return</span> iconUrl;

 }
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getTaskDevList(<span class="hljs-keyword">new</span> ITuyaResultCallback&lt;List&lt;DeviceBean&gt;&gt;() {
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;DeviceBean&gt; deviceBeans)</span> </span>{
      }
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
      }

});
</code></pre>
<h3 id="obtain-executable-actions-based-on-device-id">Obtain executable actions based on device id</h3>
<p><strong>[Description]</strong></p>
<p>It is used to obtain the tasks executed by the device when creating an action. The device id can be obtained from the <a href="https://github.com/TuyaInc/tuyasmart_home_android_sdk/blob/master/TuyaSmartHomeSdkDemo/doc/tuyahome.md#%23%23%2310.3.1" target="_blank">a list of devices supported by obtaining execution action</a></p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
\* Obtain what the device can execute
\* <span class="hljs-doctag">@param</span> devId    device id
\* <span class="hljs-doctag">@param</span> callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getDeviceTaskOperationList</span><span class="hljs-params">(String devId, ITuyaResultCallback&lt;List&lt;TaskListBean&gt;&gt; callback)</span></span>;
Among, TaskListBean provides interfaces as follows:
<span class="hljs-comment">/**
 \*  obtain the name of dp points for display interface.
 *
 \* <span class="hljs-doctag">@return</span> name of dp points
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> name;
}



<span class="hljs-comment">/**

 \*  Obtain dpId

 *

 \* <span class="hljs-doctag">@return</span> dpId

 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getDpId</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-keyword">return</span> dpId;

}



<span class="hljs-comment">/**
 \* Obtain the operation configured by the dp point
 *
 \*   Format:
 \*     {
 \*       {true, &#x201C;on&quot;},
 \*       {false, &quot;off&quot;}
 \*     }
 *
 \* <span class="hljs-doctag">@return</span> 
 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> HashMap&lt;Object, String&gt; <span class="hljs-title">getTasks</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> tasks;
}
<span class="hljs-comment">/**
 \* Obtain the type bool, value, enum, etc. of the condition.
*/</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getType</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> type;

}
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().getTaskList(
    devId,      <span class="hljs-comment">//Device id</span>
    <span class="hljs-keyword">new</span> ITuyaResultCallback&lt;List&lt;TaskListBean&gt;&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(List&lt;TaskListBean&gt; conditionActionBeans)</span> </span>{
        }
       <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
       }

});
</code></pre>
<p><strong>Create Scene</strong></p>
<p><strong>[Description]</strong></p>
<p>It is used to assemble conditions and actions into a scene and create a new scene, and then returns the scene data after success. There are two creation methods, and the only difference is whether there are stickyOnTop parameters.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Create Scene
 *
 \* <span class="hljs-doctag">@param</span> homeId      Home id
 \* <span class="hljs-doctag">@param</span> name      Scene name 
 \* <span class="hljs-doctag">@param</span> stickyOnTop shows in the home page or not
 \* <span class="hljs-doctag">@param</span> conditions Scene triggering conditions {<span class="hljs-doctag">@link</span> SceneCondition}
 \* <span class="hljs-doctag">@param</span> tasks     Scene task {<span class="hljs-doctag">@link</span> SceneTask}
 \* <span class="hljs-doctag">@param</span> matchType Scenario condition and/or relationship  SceneBean.MATCH_TYPE_OR represents that it satisfies any conditions, default value; SceneBean.MATCH_TYPE_AND represents that it satisfies all conditions
 \* <span class="hljs-doctag">@param</span> callback   callback

 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createScene</span><span class="hljs-params">(<span class="hljs-keyword">long</span> homeId, String name, <span class="hljs-keyword">boolean</span> stickyOnTop, String background, List&lt;SceneCondition&gt; conditions, List&lt;SceneTask&gt; tasks,<span class="hljs-keyword">int</span> matchType, <span class="hljs-keyword">final</span> ITuyaResultCallback&lt;SceneBean&gt; callback)</span> </span>;

<span class="hljs-comment">/**
 \* Create Scene
 *
 \* <span class="hljs-doctag">@param</span> homeId      Home id
 \* <span class="hljs-doctag">@param</span> name      Scene name 
 \* <span class="hljs-doctag">@param</span> conditions Scene triggering conditions {<span class="hljs-doctag">@link</span> SceneCondition}
 \* <span class="hljs-doctag">@param</span> tasks     Scene task {<span class="hljs-doctag">@link</span> SceneTask}
 \* <span class="hljs-doctag">@param</span> matchType Scenario condition and/or relationship  SceneBean.MATCH_TYPE_OR represents that it satisfies any conditions, default value; SceneBean.MATCH_TYPE_AND represents that it satisfies all conditions
 \* <span class="hljs-doctag">@param</span> callback   callback
 */</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createScene</span><span class="hljs-params">(<span class="hljs-keyword">long</span> homeId, String name, String background, List&lt;SceneCondition&gt; conditions, List&lt;SceneTask&gt; tasks,<span class="hljs-keyword">int</span> matchType, <span class="hljs-keyword">final</span> ITuyaResultCallback&lt;SceneBean&gt; callback)</span> </span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().createScene(
     &quot;100001&quot;
    &#x201C;Morning&quot;, // Scene name
    true,  //Show it in the home page or not
    conditions, //condition
    tasks,     //task
    SceneBean.MATCH_TYPE_AND, //Implement condition type
    new ITuyaResultCallback&lt;SceneBean&gt;() {
        @Override
        public void onSuccess(SceneBean sceneBean) {
            Log.d(TAG, &quot;createScene Success&quot;);
        }
        @Override
        public void onError(String errorCode, String errorMessage) {
        }
});
</code></pre>
<h3 id="105-modify-the-scene">10.5 Modify the scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to modify the scene. After it succeeded, it will return to new scene data.</p>
<pre><code class="lang-java">**[Method Prototype]**

<span class="hljs-comment">/**
 \* Modify the scene
 \* 
 \* <span class="hljs-doctag">@param</span> sceneReqBean Scene data class
 \* <span class="hljs-doctag">@param</span> callback
 */</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modifyScene</span><span class="hljs-params">(SceneBean sceneReqBean, ITuyaResultCallback&lt;SceneBean&gt; callback)</span></span>;
</code></pre>
<p>Note: The interface can only be used to modify the scene. Do not transmit into the newly created SceneBean object.</p>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">sceneBean.setName(<span class="hljs-string">&quot;New name&quot;</span>);  <span class="hljs-comment">//Change Scene name </span>
sceneBean.setConditions(Collections.singletonList(condition)); <span class="hljs-comment">//Change Scene condition</span>
sceneBean.setActions(tasks); <span class="hljs-comment">//Change Scene action</span>
String sceneId = sceneBean.getId();  <span class="hljs-comment">//Get the Scene id to initialize</span>
TuyaHomeSdk.newSceneInstance(sceneId).modifyScene(
    sceneBean,  <span class="hljs-comment">//Modified Scene data class</span>
    <span class="hljs-keyword">new</span> ITuyaResultCallback&lt;SceneBean&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(SceneBean sceneBean)</span> </span>{
            Log.d(TAG, <span class="hljs-string">&quot;Modify Scene Success&quot;</span>);
        }
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
        }

});
</code></pre>
<h3 id="execute-scene">Execute scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to execute manual scene.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Perform scene actions
 *
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">executeScene</span><span class="hljs-params">(IResultCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">String sceneId = sceneBean.getId();  
TuyaHomeSdk.newSceneInstance(sceneId).executeScene(<span class="hljs-keyword">new</span> IResultCallback() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span> </span>{
        Log.d(TAG, <span class="hljs-string">&quot;Excute Scene Success&quot;</span>);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
    }
});
</code></pre>
<h3 id="delete-scene">Delete scene</h3>
<p><strong>[Description]</strong></p>
<p>For deleting scene</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Delete Scene
 *
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">deleteScene</span><span class="hljs-params">(IResultCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">String sceneId = sceneBean.getId();  
TuyaHomeSdk.newSceneInstance(sceneId).deleteScene(<span class="hljs-keyword">new</span> 
IResultCallback() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span> </span>{
        Log.d(TAG, <span class="hljs-string">&quot;Delete Scene Success&quot;</span>);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
    }

});
</code></pre>
<h3 id="turn-on-and-turn-off-the-automation-scene">Turn on and turn off the automation scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to turn on or off the automatic scene.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Turn on automation scene
 \* <span class="hljs-doctag">@param</span> sceneId  
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">enableScene</span><span class="hljs-params">(String sceneId, <span class="hljs-keyword">final</span> IResultCallback callback)</span></span>;

<span class="hljs-comment">/**
 \* Turn off the automation scene
 \* <span class="hljs-doctag">@param</span> sceneId  
 \* <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">disableScene</span><span class="hljs-params">(String sceneId, <span class="hljs-keyword">final</span> IResultCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">String sceneId = sceneBean.getId();  
TuyaHomeSdk.newSceneInstance(sceneId).enableScene(sceneId,<span class="hljs-keyword">new</span> 
IResultCallback() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span> </span>{
       Log.d(TAG, <span class="hljs-string">&quot;enable Scene Success&quot;</span>);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
    }

});



TuyaHomeSdk.newSceneInstance(sceneId).disableScene(sceneId,<span class="hljs-keyword">new</span> 

IResultCallback() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span> </span>{
        Log.d(TAG, <span class="hljs-string">&quot;disable Scene Success&quot;</span>);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
    }

});
</code></pre>
<h3 id="sort-scene">Sort scene</h3>
<p><strong>[Description]</strong></p>
<p>Manual scene or automation scene sorting. Note: Manual or automation scenes can only be sorted separately and cannot be shuffled.</p>
<p><strong>[Method Prototype]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
 \* Scene sorting
 \* <span class="hljs-doctag">@param</span> homeId family id
 \* <span class="hljs-doctag">@param</span> sceneIds  Sorted id list for manual or automation scenes 
 \* <span class="hljs-doctag">@param</span> callback    callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sortSceneList</span><span class="hljs-params">(<span class="hljs-keyword">long</span> homeId, List&lt;String&gt; sceneIds, IResultCallback callback)</span>
</span></code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().sortSceneList(
    homeId, <span class="hljs-comment">//Home list</span>
    sceneIds,<span class="hljs-comment">//Scene id list</span>
    <span class="hljs-keyword">new</span> IResultCallback() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">()</span> </span>{
        }
        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onError</span><span class="hljs-params">(String errorCode, String errorMessage)</span> </span>{
        }

});
</code></pre>
<h3 id="erase">Erase</h3>
<p><strong>[Description]</strong></p>
<p>If the user exits the activity of the scene, the scene destruction method should be invoked to reclaim the memory and enhance the experience.</p>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getSceneManagerInstance().onDestroy();
TuyaHomeSdk.newSceneInstance(sceneId).onDestroy();
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="Message.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Message Center">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Smart scene","level":"1.13.1","depth":2,"next":{"title":"Message Center","level":"1.14","depth":1,"path":"resource/Message.md","ref":"./resource/Message.md","articles":[]},"previous":{"title":"Smart scene","level":"1.13","depth":1,"ref":"","articles":[{"title":"Smart scene","level":"1.13.1","depth":2,"path":"resource/SmartScene_Manager.md","ref":"./resource/SmartScene_Manager.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/SmartScene_Manager.md","mtime":"2018-11-20T10:43:01.811Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-20T10:47:52.739Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

