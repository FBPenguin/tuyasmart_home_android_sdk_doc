
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Smart Scene Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SmartScene_Manager.html" />
    
    
    <link rel="prev" href="Group_control.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="User_Sdk_Update.html">
            
                <a href="User_Sdk_Update.html">
            
                    
                    Migration from 1.x SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    User Uid Login System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="User_Third_Login.html">
            
                <a href="User_Third_Login.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="User_update.html">
            
                <a href="User_update.html">
            
                    
                    Modify User Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="User_logout.html">
            
                <a href="User_logout.html#logout-interface">
            
                    
                    Sign Out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="User_logout.html">
            
                <a href="User_logout.html#disable-account">
            
                    
                    Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="User_Data_Model.html">
            
                <a href="User_Data_Model.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Home.html">
            
                <a href="Home.html">
            
                    
                    Home Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="HomeDataManager.html">
            
                <a href="HomeDataManager.html">
            
                    
                    Home Data Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="HomeMember.html">
            
                <a href="HomeMember.html">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Activator_wifi.html">
            
                <a href="Activator_wifi.html">
            
                    
                    Wi-Fi Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Activator_wifi_ez.html">
            
                <a href="Activator_wifi_ez.html">
            
                    
                    EZ Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Activator_wifi_ap.html">
            
                <a href="Activator_wifi_ap.html">
            
                    
                    AP Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Activator_wifi_qa.html">
            
                <a href="Activator_wifi_qa.html">
            
                    
                    Wi-Fi Common Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Activator_zigbee.html">
            
                <a href="Activator_zigbee.html">
            
                    
                    ZigBee Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_zigbee_gateway.html">
            
                <a href="Activator_zigbee_gateway.html">
            
                    
                    ZigBee Gateway Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_zigbee_subdevice.html">
            
                <a href="Activator_zigbee_subdevice.html">
            
                    
                    ZigBee Sub-device Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator_qrcode.html">
            
                <a href="Activator_qrcode.html">
            
                    
                    Scan QRCode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html#device-information-acquisition">
            
                    
                    Device Information Acquisition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Device.html">
            
                <a href="Device.html#initial-device-control">
            
                    
                    Initial Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device.html">
            
                <a href="Device.html#register-device-listener">
            
                    
                    Register Device Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Device.html">
            
                <a href="Device.html#unregister-device-listener">
            
                    
                    Unregister Device Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Device.html">
            
                <a href="Device.html#device-control-method">
            
                    
                    Device Control Method
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="Device.html">
            
                <a href="Device.html#function-points-of-device">
            
                    
                    Function Points of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="Device.html">
            
                <a href="Device.html#rename-device">
            
                    
                    Rename Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="Device.html">
            
                <a href="Device.html#query-wi-fi-signal-strength">
            
                    
                    Query Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="Device.html">
            
                <a href="Device.html#recycling-device-resources">
            
                    
                    Recycling Device Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    ZigBee Gateway Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Shared Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared_Device_add.html">
            
                <a href="Shared_Device_add.html">
            
                    
                    Add for Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared_Device_Remove.html">
            
                <a href="Shared_Device_Remove.html">
            
                    
                    Removing Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Shared_Device_Rename.html">
            
                <a href="Shared_Device_Rename.html">
            
                    
                    Modifying Remark Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group_wifi.html">
            
                <a href="Group_wifi.html">
            
                    
                    Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group_zigbee.html">
            
                <a href="Group_zigbee.html">
            
                    
                    Zigbee Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group_control.html">
            
                <a href="Group_control.html">
            
                    
                    Group Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Smart">
            
                    
                    Smart Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Single_Scene_Operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="MessagePush.html">
            
                <a href="MessagePush.html">
            
                    
                    Message Push Switch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#scanning-device">
            
                    
                    Scan Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#single-ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="BLE_Operator.html">
            
                <a href="BLE_Operator.html">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="BLE_OTA.html">
            
                <a href="BLE_OTA.html">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="SigMesh_Prepare.html">
            
                <a href="SigMesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="SigMesh_IDEA.html">
            
                <a href="SigMesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="SigMesh_Admin.html">
            
                <a href="SigMesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.4" data-path="SigMesh_Config.html">
            
                <a href="SigMesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.5" data-path="SigMesh_Device.html">
            
                <a href="SigMesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.6" data-path="SigMesh_Group_Operate.html">
            
                <a href="SigMesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.7" data-path="SigMesh_Device_Operate.html">
            
                <a href="SigMesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.8" data-path="SigMesh_OTA.html">
            
                <a href="SigMesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="Mesh_Prepare.html">
            
                <a href="Mesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="Mesh_IDEA.html">
            
                <a href="Mesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="Mesh_Admin.html">
            
                <a href="Mesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="Mesh_Config.html">
            
                <a href="Mesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="Mesh_Device.html">
            
                <a href="Mesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="Mesh_Group_Operate.html">
            
                <a href="Mesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="Mesh_Device_Operate.html">
            
                <a href="Mesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="Mesh_OTA.html">
            
                <a href="Mesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="Problems.html">
            
                <a href="Problems.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="Update_3_14_0.html">
            
                <a href="Update_3_14_0.html">
            
                    
                    3.13.0 Upgrade 3.14.x Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Smart Scene</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#smart"><b></b>Smart</a></li><ul><li><span class="title-icon "></span><a href="#scene-condition"><b></b>Scene Condition</a></li><li><span class="title-icon "></span><a href="#scene-task"><b></b>Scene Task</a></li><li><span class="title-icon "></span><a href="#scene-data-manager"><b></b>Scene Data Manager</a></li><ul><li><span class="title-icon "></span><a href="#scene-list-function"><b></b>Scene List Function</a></li><li><span class="title-icon "></span><a href="#get-condition-list"><b></b>Get Condition List</a></li><li><span class="title-icon "></span><a href="#create-weather-conditions"><b></b>Create Weather Conditions</a></li><li><span class="title-icon "></span><a href="#create-a-device-type-condition"><b></b>Create a Device-type Condition</a></li><li><span class="title-icon "></span><a href="#create-timing-type-conditions"><b></b>Create Timing Type Conditions</a></li><li><span class="title-icon "></span><a href="#there-are-four-types-of-rules"><b></b>There Are Four Types of Rules</a></li><li><span class="title-icon "></span><a href="#obtain-the-condition-device-list"><b></b>Obtain The Condition Device List</a></li><li><span class="title-icon "></span><a href="#get-device-task-based-on-device-id"><b></b>Get Device Task Based On Device Id</a></li><li><span class="title-icon "></span><a href="#get-city-list"><b></b>Get City List</a></li><li><span class="title-icon "></span><a href="#get-cities-based-on-latitude-and-longitude"><b></b>Get Cities Based On Latitude and Longitude</a></li><li><span class="title-icon "></span><a href="#get-cities-based-on-city-id"><b></b>Get Cities Based on City Id</a></li><li><span class="title-icon "></span><a href="#scene-task_1"><b></b>Scene Task</a></li><li><span class="title-icon "></span><a href="#1create-device-type-action"><b></b>1.Create Device Type Action</a></li><li><span class="title-icon "></span><a href="#a-list-of-devices-supported-by-obtaining-execution-action"><b></b>A List of Devices Supported by Obtaining Execution Action</a></li><li><span class="title-icon "></span><a href="#obtain-executable-actions-based-on-device-id"><b></b>Obtain Executable Actions Based on Device Id</a></li><li><span class="title-icon "></span><a href="#2create-group-device-type-action"><b></b>2.Create Group Device Type Action</a></li><li><span class="title-icon "></span><a href="#a-list-of-group-devices-to-get-execution-action-support"><b></b>A List of Group Devices to Get Execution Action Support</a></li><li><span class="title-icon "></span><a href="#obtain-executable-actions-based-on-group-id"><b></b>Obtain Executable Actions Based on Group Id</a></li><li><span class="title-icon "></span><a href="#3create-scenario-type-action"><b></b>3.Create Scenario Type Action</a></li><li><span class="title-icon "></span><a href="#4create-delay-type-action"><b></b>4.Create Delay Type Action</a></li><li><span class="title-icon "></span><a href="#5&#x3001;create-message-type-action"><b></b>5&#x3001;Create Message Type Action</a></li><li><span class="title-icon "></span><a href="#sort-scene"><b></b>Sort Scene</a></li><li><span class="title-icon "></span><a href="#scene-background-images"><b></b>Scene Background Images</a></li></ul><li><span class="title-icon "></span><a href="#single-scene-operation"><b></b>Single Scene Operation</a></li><ul><li><span class="title-icon "></span><a href="#create-scene"><b></b>Create Scene</a></li><li><span class="title-icon "></span><a href="#modify-the-scene"><b></b>Modify The Scene</a></li><li><span class="title-icon "></span><a href="#delete-scene"><b></b>Delete Scene</a></li><li><span class="title-icon "></span><a href="#execute-scene"><b></b>Execute Scene</a></li><li><span class="title-icon "></span><a href="#turn-on-and-turn-off-the-automation-scene"><b></b>Turn On and Turn Off The Automation Scene</a></li><li><span class="title-icon "></span><a href="#erase"><b></b>Erase</a></li></ul></ul></ul></div><a href="#smart" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="smart"><a name="smart" class="anchor-navigation-ex-anchor" href="#smart"><i class="fa fa-link" aria-hidden="true"></i></a><a name="smart" class="plugin-anchor" href="#smart"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Smart">Smart</span></h1>
<p>Smart are divided into &quot;one-click execution scenarios&quot; and &quot;automated scenarios&quot;, hereinafter referred to as &quot;scenarios&quot; and &quot;automation&quot;, respectively.</p>
<p>Scenarios are user-added actions that are triggered manually; automation is that the user sets conditions and automatically executes the set actions when the conditions trigger.</p>
<p>Tuya Cloud supports users to set weather or equipment conditions according to actual life scenarios, and when the conditions are met, let one or more devices perform the corresponding tasks.</p>
<table>
<thead>
<tr>
<th>Scene management</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaHomeSdk.newSceneInstance(String sceneId)</td>
<td>Provides editing, deletion, and execution of a single scene, which needs to be initialized with the scene id. The scene id refers to the id field of SceneBean, which can be obtained from the return result of the <a href="#GetSceneList">Get Scene List interface</a>.</td>
</tr>
<tr>
<td>TuyaHomeSdk.getSceneManagerInstance()</td>
<td>It mainly provides all the data related to the conditions, tasks, equipment, and cities in the scene, and the scene list data acquisition.</td>
</tr>
</tbody>
</table>
<p>Before using intelligent scene-related interfaces, you need to understand the two concepts of scene conditions and scene tasks.</p>
<h2 id="scene-condition"><a name="scene-condition" class="anchor-navigation-ex-anchor" href="#scene-condition"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-condition" class="plugin-anchor" href="#scene-condition"><i class="fa fa-link" aria-hidden="true"></i></a>Scene Condition</h2>
<p>Scene conditions correspond to the SceneCondition class. Tuya Cloud supports the following condition types:</p>
<ul>
<li>Meteorological conditions: including temperature, humidity, weather, PM2.5, air quality, sunset and sunrise. When the user selects meteorological conditions, he can select the current city.</li>
<li>Equipment condition: It means that the user can select the functional status of a device in advance. When the device reaches this state, the task in the current scene will be triggered, but the same device cannot be used as a condition and task at the same time to avoid operation conflicts.</li>
<li>Timing condition: It means that the scheduled task can be performed according to the specified time.</li>
</ul>
<h2 id="scene-task"><a name="scene-task" class="anchor-navigation-ex-anchor" href="#scene-task"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-task" class="plugin-anchor" href="#scene-task"><i class="fa fa-link" aria-hidden="true"></i></a>Scene Task</h2>
<p>A scenario task refers to having one or more devices perform certain operations when the scenario meets the set weather or equipment conditions, corresponding to the <code>SceneTask</code> class. Or turn off and on an automation.</p>
<h2 id="scene-data-manager"><a name="scene-data-manager" class="anchor-navigation-ex-anchor" href="#scene-data-manager"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-data-manager" class="plugin-anchor" href="#scene-data-manager"><i class="fa fa-link" aria-hidden="true"></i></a>Scene Data Manager</h2>
<h3 id="scene-list-function"><a name="scene-list-function" class="anchor-navigation-ex-anchor" href="#scene-list-function"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-list-function" class="plugin-anchor" href="#scene-list-function"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetSceneList">Scene List Function</span></h3>
<p><strong>Declaration</strong></p>
<p>Get scene list data. Scenarios are returned with automation, and scenarios and automation are distinguished by whether the conditions field is empty.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getSceneList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span><span class="token class-name">ITuyaDataCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home id</td>
<td></td>
</tr>
<tr>
<td>callback</td>
<td>Callback</td>
</tr>
</tbody>
</table>
<p>Among them, the main attributes of <code>SceneBean</code> are defined as follows</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Sting</td>
<td>Scene  id </td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Scene name</td>
</tr>
<tr>
<td>conditions</td>
<td>List&lt;SceneCondition&gt;</td>
<td>Scene condition list</td>
</tr>
<tr>
<td>actions</td>
<td>List&lt;SceneTask&gt;</td>
<td>Scene task list</td>
</tr>
<tr>
<td>matchType</td>
<td>int</td>
<td>The type that satisfies the condition. Any condition is 1 and all conditions are 2</td>
</tr>
<tr>
<td>enable</td>
<td>boolean</td>
<td>Whether automation is enabled</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSceneList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="get-condition-list"><a name="get-condition-list" class="anchor-navigation-ex-anchor" href="#get-condition-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-condition-list" class="plugin-anchor" href="#get-condition-list"><i class="fa fa-link" aria-hidden="true"></i></a>Get Condition List</h3>
<p><strong>Declaration</strong></p>
<p>Get a list of conditions, such as temperature, humidity, weather, PM2.5, sunset and sunrise, etc. Note: the device can also be used as a condition.
The temperature in the conditions is divided into degrees Celsius and Fahrenheit, and the required data is passed in as required.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getConditionList</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> showFahrenheit<span class="token punctuation">,</span><span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">ConditionListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>showFahrenheit</td>
<td>True:Fahrenheit units&#xFF0C;False:Celsius units</td>
</tr>
<tr>
<td>callback</td>
<td>Callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConditionList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaDataCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">ConditionListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConditionListBean</span><span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Among them, the main attributes of ConditionListBean are defined as follows</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Sting</td>
<td>Condition name</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Condition category</td>
</tr>
<tr>
<td>Property</td>
<td>IProperty</td>
<td>Condition attribute</td>
</tr>
</tbody>
</table>
<p>Currently supported weather condition categories with their names and Property types</p>
<table>
<thead>
<tr>
<th>name</th>
<th>Type</th>
<th>Property Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Temperature</td>
<td>temp</td>
<td>ValueProperty</td>
</tr>
<tr>
<td>Humidity</td>
<td>humidity</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Weather</td>
<td>condition</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>PM2.5</td>
<td>pm25</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Air Quality</td>
<td>aqi</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Sunset/Sunrise</td>
<td>sunsetrise</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Timer</td>
<td>timer</td>
<td>TimerProperty</td>
</tr>
</tbody>
</table>
<p>Property is a commonly used data structure in Tuya Smart, which can be used to control equipment and other functions. There are currently four types of Property: Numeric, Enumerated, Boolean, and Types for Timing (corresponding to Numeric, Enumerated, and Boolean in conditions). Each Property provides different access interfaces. See <a href="#rules">Rules Introduction</a> for details.    </p>
<h3 id="create-weather-conditions"><a name="create-weather-conditions" class="anchor-navigation-ex-anchor" href="#create-weather-conditions"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-weather-conditions" class="plugin-anchor" href="#create-weather-conditions"><i class="fa fa-link" aria-hidden="true"></i></a>Create Weather Conditions</h3>
<p><strong>Declaration</strong></p>
<p>Weather conditions include temperature, humidity, weather, PM2.5, air quality, sunrise and sunset, and the city can be selected freely. The weather conditions that can be selected vary depending on the device in the user account.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneCondition</span> <span class="token function">createWeatherCondition</span><span class="token punctuation">(</span><span class="token class-name">PlaceFacadeBean</span> place<span class="token punctuation">,</span> <span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">Rule</span> rule<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>place</td>
<td>Corresponding city weather. PlaceFacadeBean objects can be obtained from <a href="#GetCityList">Get City List</a>, <a href="#GetCityInfoByLATLNG">Get cities based on latitude and longitude</a>, <a href="#GetCityByCityId">Get cities based on city id</a> interface. Currently, access to the city interface is only supported China.</td>
</tr>
<tr>
<td>type</td>
<td>Condition type.</td>
</tr>
<tr>
<td>rule</td>
<td>Conditional rules, see <a href="#rules">rule introduction</a></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"> <span class="token class-name">ValueRule</span> tempRule <span class="token operator">=</span> <span class="token class-name">ValueRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
      <span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">,</span>    
      <span class="token number">20</span>       
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SceneCondition</span> tempCondition <span class="token operator">=</span> <span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
      placeFacadeBean<span class="token punctuation">,</span>   
      <span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>            
      tempRule          
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="create-a-device-type-condition"><a name="create-a-device-type-condition" class="anchor-navigation-ex-anchor" href="#create-a-device-type-condition"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-a-device-type-condition" class="plugin-anchor" href="#create-a-device-type-condition"><i class="fa fa-link" aria-hidden="true"></i></a>Create a Device-type Condition</h3>
<p><strong>Declaration</strong></p>
<p>A device condition is when one device is in a certain state that triggers a scheduled task for another device or multiple devices. <strong> To avoid loop control, the same device cannot be used as a condition and task at the same time. </strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneCondition</span> <span class="token function">createDevCondition</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devBean<span class="token punctuation">,</span> <span class="token class-name">String</span> dpId<span class="token punctuation">,</span> <span class="token class-name">Rule</span> rule<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devBean</td>
<td>Conditional equipment. DeviceBean is obtained from the <a href="#GetConditionDeviceList">Get Condition Device List</a> interface                           </td>
</tr>
<tr>
<td>dpId</td>
<td>Condition dpId&#x3002;</td>
</tr>
<tr>
<td>rule</td>
<td>Condition rule</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">BoolRule</span> boolRule <span class="token operator">=</span> <span class="token class-name">BoolRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
    <span class="token string">&quot;dp1&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//&quot;dp&quot; + dpId</span>
    <span class="token boolean">true</span>    <span class="token comment">//value</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SceneCondition</span> devCondition <span class="token operator">=</span> <span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createDevCondition</span><span class="token punctuation">(</span>
    devBean<span class="token punctuation">,</span>    
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>        <span class="token comment">//dpId</span>
    boolRule    <span class="token comment">//rule</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SceneCondition</span> <span class="token function">createDevCondition</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devBean<span class="token punctuation">,</span> <span class="token class-name">String</span> dpId<span class="token punctuation">,</span> <span class="token class-name">Rule</span> rule<span class="token punctuation">)</span>
</code></pre>
<h3 id="create-timing-type-conditions"><a name="create-timing-type-conditions" class="anchor-navigation-ex-anchor" href="#create-timing-type-conditions"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-timing-type-conditions" class="plugin-anchor" href="#create-timing-type-conditions"><i class="fa fa-link" aria-hidden="true"></i></a>Create Timing Type Conditions</h3>
<p><strong>Declaration</strong></p>
<p>Timing conditions refer to the execution of a scheduled task at a specified time </p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneCondition</span> <span class="token function">createTimerCondition</span><span class="token punctuation">(</span><span class="token class-name">String</span> display<span class="token punctuation">,</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> type<span class="token punctuation">,</span><span class="token class-name">Rule</span> rule<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description                                            </th>
</tr>
</thead>
<tbody>
<tr>
<td>display</td>
<td>User-selected time condition for display                        </td>
</tr>
<tr>
<td>name</td>
<td>Name of timing condition                                     </td>
</tr>
<tr>
<td>type</td>
<td>Condition type</td>
</tr>
<tr>
<td>rule</td>
<td>Conditional rules</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TimerRule</span> timerRule <span class="token operator">=</span> <span class="token class-name">TimerRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0111110&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;16:00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;20180310&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createTimerCondition</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Monday, Tuesday, Wednesday, Thursday, Friday&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Working day timing&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;timer&quot;</span><span class="token punctuation">,</span>
      timerRule
      <span class="token punctuation">)</span>
</code></pre>
<h3 id="there-are-four-types-of-rules"><a name="there-are-four-types-of-rules" class="anchor-navigation-ex-anchor" href="#there-are-four-types-of-rules"><i class="fa fa-link" aria-hidden="true"></i></a><a name="there-are-four-types-of-rules" class="plugin-anchor" href="#there-are-four-types-of-rules"><i class="fa fa-link" aria-hidden="true"></i></a><span id="rules">There Are Four Types of Rules</span></h3>
<ul>
<li>Numerical type</li>
</ul>
<p>Taking temperature as an example, the final expression of the numerical condition is formatted as &quot;temp &gt; 20&quot;. You can get the currently supported temperature maximum, minimum and granularity (stepping) from the Obtain Condition List interface; you can get the supported temperature from the Obtain Condition List, etc. After the configuration is completed on the user interface, the <code>ValueRule.newInstance</code> method is invoked to build the rules, and the rules are used to form the conditions.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">
  <span class="token class-name">ValueProperty</span> tempProperty <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ValueProperty</span><span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       

  <span class="token keyword">int</span> max <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Maximum value</span>
  <span class="token keyword">int</span> min <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Minimum value</span>
  <span class="token keyword">int</span> step <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//Granularity</span>
  <span class="token class-name">String</span> unit <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Unit</span>

<span class="token comment">//The temperature is greater than 20 &#x2103;</span>
  <span class="token class-name">ValueRule</span> tempRule <span class="token operator">=</span> <span class="token class-name">ValueRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
      <span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//Category</span>
      <span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">,</span>     <span class="token comment">//operational rule (&quot;&gt;&quot;, &quot;==&quot;, &quot;&lt;&quot;)</span>
      <span class="token number">20</span>       <span class="token comment">//Critical value</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">SceneCondition</span> tempCondition <span class="token operator">=</span> <span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
      placeFacadeBean<span class="token punctuation">,</span>   <span class="token comment">//City</span>
      <span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>            <span class="token comment">//Category</span>
      tempRule           <span class="token comment">//Rule</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Enumerated type</li>
</ul>
<p>Taking the weather condition as an example, the final expression of the enumerated condition is formatted as &quot;condition == rainy&quot;. You can get the currently supported weather conditions from the Obtain Condition List interface, including the code and name of each weather condition. After the configuration is completed on the user interface, the  <code>EnumRule.newInstance</code> method is invoked to build the rules, and the rules are used to form the conditions.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">EnumProperty</span> weatherProperty <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">EnumProperty</span><span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Enumeration type Property</span>
<span class="token comment">/** 
 *{
 *  {&quot;sunny&quot;, &quot; fine day&quot;},
 *  {&quot;rainy&quot;, &quot;rainy day&quot;}
 *} 
 */</span>
 <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> enums <span class="token operator">=</span> weatherProperty<span class="token punctuation">.</span><span class="token function">getEnums</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//It&apos;s rainy.</span>
 <span class="token class-name">EnumRule</span> enumRule <span class="token operator">=</span> <span class="token class-name">EnumRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
               <span class="token string">&quot;condition&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//Category </span>
               <span class="token string">&quot;rainy&quot;</span>        <span class="token comment">// Enumerated value selected</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">SceneCondition</span> weatherCondition <span class="token operator">=</span> <span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
               placeFacadeBean<span class="token punctuation">,</span>    <span class="token comment">//City</span>
               <span class="token string">&quot;condition&quot;</span><span class="token punctuation">,</span>        <span class="token comment">//Category</span>
               enumRule            <span class="token comment">//Rule </span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Boolean type</li>
</ul>
<p>Boolean types are common in device type conditions, and the final expression is formatted as &quot;dp1 == true&quot;. You need to invoke the <a href="#GetConditionDeviceList">Obtain the condition device list</a> interface to obtain devices that support the configuration of the smart scene, and then query the operations that the device can support based on the device id. See the Obtain Operations Supported by Device for details. After the configuration is completed on the user interface, the <code>BoolRule.newInstance</code> method is invoked to build the rules, and the rules are used to form the conditions.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token class-name">BoolProperty</span> devProperty <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BoolProperty</span><span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&#x5E03;&#x5C14;&#x578B;Property</span>

<span class="token comment">/**
{
  {true, &#x201C;on&quot;},
  {false, &quot;off&quot;}
}
*/</span>
<span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> boolMap <span class="token operator">=</span> devProperty<span class="token punctuation">.</span><span class="token function">getBoolMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//&#x5F53;&#x8BBE;&#x5907;&#x5F00;&#x542F;&#x65F6;</span>
<span class="token class-name">BoolRule</span> boolRule <span class="token operator">=</span> <span class="token class-name">BoolRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
    <span class="token string">&quot;dp1&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//&quot;dp&quot; + dpId</span>
    <span class="token boolean">true</span>    <span class="token comment">//bool of triggering conditions</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SceneCondition</span> devCondition <span class="token operator">=</span> <span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createDevCondition</span><span class="token punctuation">(</span>
    devBean<span class="token punctuation">,</span>    <span class="token comment">//Device </span>
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>        <span class="token comment">//dpId</span>
    boolRule    <span class="token comment">//Rule</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Timer type</li>
</ul>
<p>Timer is expressed as a Map type, that is Key: Value. After the user completes the timer configuration, the <code>TimerRule.newInstance</code> is invoked to complete the Map data assembly by the SDK to form the rule condition.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">

<span class="token class-name">TimerProperty</span> timerProperty <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TimerProperty</span><span class="token punctuation">)</span>conditionListBean<span class="token punctuation">.</span>
<span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//Timer-type property</span>

<span class="token comment">//TimerRule.newInstance provides two construction methods, the difference is whether it will pass the time zone.</span>
<span class="token comment">//If it does not pass the time zone, read default time zone.</span>
<span class="token comment">/**
  * 
  * @param timeZoneId time zone, the format like &quot;Asia/Shanghai&#x201D;
  * @param loops 7-digit character string; each digit represents what day of the week; the first digit represents Sunday, and the second digit represents Monday.
  * By analogy, the character indicates on which days the timer is enabled. 0 indicates not selected; 1 indicates selected, with format like only Monday Selected.
  * Tuesday: &quot;0110000&quot;&#x3002; If they are not selected, it means that the timer is only executed once, with the format: &quot;0000000&quot;
  * @param time 24-hour system With format like &quot;08:00&quot;, 
  * If the user uses the 12-hour system, the developer needs to convert it to a 24-hour system and upload it.
  * @param date, format like &quot;20180310&quot;
  * @return
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">TimerRule</span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> timeZoneId<span class="token punctuation">,</span><span class="token class-name">String</span> loops<span class="token punctuation">,</span><span class="token class-name">String</span> time<span class="token punctuation">,</span><span class="token class-name">String</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Create timer rule</span>
<span class="token class-name">TimerRule</span> timerRule <span class="token operator">=</span> <span class="token class-name">TimerRule</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0111110&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;16:00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;20180310&quot;</span><span class="token punctuation">)</span> 

<span class="token comment">/**
 * The required parameters have the same meaning as the parameters of the above method, and the default time zone is read.
 * @param loops
 * @param time
 * @param date
 * @return
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">TimerRule</span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> loops<span class="token punctuation">,</span><span class="token class-name">String</span> time<span class="token punctuation">,</span><span class="token class-name">String</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
  * Create timer conditions
  * @param display  is used to display the user-selected time conditions.
  * @param name  Name of Timer condition
  * @param type condition type
  * @param rule  condition regulations
  * @return
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SceneCondition</span> <span class="token function">createTimerCondition</span><span class="token punctuation">(</span><span class="token class-name">String</span> display<span class="token punctuation">,</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> type<span class="token punctuation">,</span><span class="token class-name">Rule</span> rule<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Create timer conditions, taking the Timer rule constructed above as an example.</span>
<span class="token class-name">SceneCondition</span><span class="token punctuation">.</span><span class="token function">createTimerCondition</span><span class="token punctuation">(</span>
<span class="token string">&quot;Monday, Tuesday, Wednesday, Thursday &amp; Friday&quot;</span><span class="token punctuation">,</span>
&#x201C;<span class="token class-name">Timer</span> in work day&quot;<span class="token punctuation">,</span>
<span class="token string">&quot;timer&quot;</span><span class="token punctuation">,</span>
timerRule
<span class="token punctuation">)</span>
</code></pre>
<h3 id="obtain-the-condition-device-list"><a name="obtain-the-condition-device-list" class="anchor-navigation-ex-anchor" href="#obtain-the-condition-device-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="obtain-the-condition-device-list" class="plugin-anchor" href="#obtain-the-condition-device-list"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetConditionDeviceList">Obtain The Condition Device List</span></h3>
<p><strong>Declaration</strong></p>
<p>When selecting a scene condition, a device is selected, and a device dp list needs to be obtained according to the deviceId of the selected device, and then a certain dp function point is selected, that is, the device is designated to execute the dp function as the execution condition of the scene.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getConditionDevList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>home id                       </td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConditionDevList</span><span class="token punctuation">(</span>homeId <span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span></span> deviceBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="get-device-task-based-on-device-id"><a name="get-device-task-based-on-device-id" class="anchor-navigation-ex-anchor" href="#get-device-task-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-device-task-based-on-device-id" class="plugin-anchor" href="#get-device-task-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a>Get Device Task Based On Device Id</h3>
<p><strong>Declaration</strong></p>
<p>It is used to obtain tasks that can be selected when selecting specific trigger conditions of the device.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getDeviceConditionOperationList</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span><span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description                                           </th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>device id                       </td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceConditionOperationList</span><span class="token punctuation">(</span>
    devId<span class="token punctuation">,</span> <span class="token comment">//device id</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaDataCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Among them, <code>TaskListBean</code> main attribute definition:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Sting</td>
<td>dp point name for interface display</td>
</tr>
<tr>
<td>dpId</td>
<td>long</td>
<td>deivce dpId</td>
</tr>
<tr>
<td>tasks</td>
<td>HashMap&lt;Object, String&gt;</td>
<td>dp point configurable operation, format: {true, &quot;opened&quot;}, {false, &quot;closed&quot;}</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Condition type bool, value, enum, etc.</td>
</tr>
</tbody>
</table>
<h3 id="get-city-list"><a name="get-city-list" class="anchor-navigation-ex-anchor" href="#get-city-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-city-list" class="plugin-anchor" href="#get-city-list"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetCityList">Get City List</span></h3>
<p><strong>Declaration</strong></p>
<p>Used to select cities when creating weather conditions.
Note: Currently the city list only supports China.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getCityListByCountryCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> countryCode<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description  </th>
</tr>
</thead>
<tbody>
<tr>
<td>countryCode</td>
<td>Country code , China = &quot;cn&quot;                  </td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityListByCountryCode</span><span class="token punctuation">(</span>
    <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//China</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span></span> placeFacadeBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Among them, the main properties of the <code>PlaceFacadeBean</code> class are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>area</td>
<td>Sting</td>
<td>area name</td>
</tr>
<tr>
<td>province</td>
<td>String</td>
<td>province name</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>city name</td>
</tr>
<tr>
<td>cityId</td>
<td>long</td>
<td>cityId</td>
</tr>
</tbody>
</table>
<h3 id="get-cities-based-on-latitude-and-longitude"><a name="get-cities-based-on-latitude-and-longitude" class="anchor-navigation-ex-anchor" href="#get-cities-based-on-latitude-and-longitude"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-cities-based-on-latitude-and-longitude" class="plugin-anchor" href="#get-cities-based-on-latitude-and-longitude"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetCityInfoByLATLNG">Get Cities Based On Latitude and Longitude</span></h3>
<p><strong>Declaration</strong></p>
<p>The city information is obtained according to the latitude and longitude, and is used to display the existing weather conditions.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getCityByLatLng</span><span class="token punctuation">(</span><span class="token class-name">String</span> lon<span class="token punctuation">,</span> <span class="token class-name">String</span> lat<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description  </th>
</tr>
</thead>
<tbody>
<tr>
<td>lon</td>
<td>Longitude</td>
</tr>
<tr>
<td>lat</td>
<td>Latitude</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityByLatLng</span><span class="token punctuation">(</span>
    <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>longitude<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//Longitude</span>
    <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>latitude<span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">//Latitude</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">PlaceFacadeBean</span> placeFacadeBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="get-cities-based-on-city-id"><a name="get-cities-based-on-city-id" class="anchor-navigation-ex-anchor" href="#get-cities-based-on-city-id"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-cities-based-on-city-id" class="plugin-anchor" href="#get-cities-based-on-city-id"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetCityByCityId">Get Cities Based on City Id</span></h3>
<p><strong>Declaration</strong></p>
<p>The city information is obtained according to the city id, and is used to display the existing weather conditions. The city id can be obtained in the get city list interface.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getCityByCityIndex</span><span class="token punctuation">(</span><span class="token keyword">long</span> cityId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description  </th>
</tr>
</thead>
<tbody>
<tr>
<td>cityId</td>
<td>City Id</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityByCityIndex</span><span class="token punctuation">(</span>
    cityId<span class="token punctuation">,</span> <span class="token comment">//city id</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlaceFacadeBean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">PlaceFacadeBean</span> placeFacadeBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="scene-task_1"><a name="scene-task_1" class="anchor-navigation-ex-anchor" href="#scene-task_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-task" class="plugin-anchor" href="#scene-task"><i class="fa fa-link" aria-hidden="true"></i></a>Scene Task</h3>
<p>Scene task refer to control actions performed when conditions trigger. Tasks executable in manual scenarios include <a href="#Device_Type">smart device type</a>, <a href="#Group_Type">group device type</a>, <a href="#Scene_Type">automation scenario type</a> and <a href="#Delay_Type">delay type</a>. The executable actions of automation scenario include <a href="#Device_Type">smart device type</a>, <a href="#Group_Type">group device type</a>, <a href="#Scene_Type">manual scene type</a>, <a href="#Scene_Type">automation scene type</a>, <a href="#Delay_Type">delay type</a> and <a href="#Message_Type">message type</a>. The tasks that users can set vary depending on the user&#x2019;s device. Please note that not every product supports the scene.</p>
<h3 id="1create-device-type-action"><a name="1create-device-type-action" class="anchor-navigation-ex-anchor" href="#1create-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="1create-device-type-action" class="plugin-anchor" href="#1create-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Device_Type">1.Create Device Type Action</span></h3>
<p><strong>Declaration</strong></p>
<p>It is used to create device type actions.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneTask</span> <span class="token function">createDpTask</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description  </th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>device id</td>
</tr>
<tr>
<td>tasks</td>
<td>tasks to be implemented task format: { dpId: dp point value}</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> taskMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
taskMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Turn on the device</span>
<span class="token class-name">SceneTask</span> task <span class="token operator">=</span> <span class="token class-name">TuyaHomeSceneManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDpTask</span><span class="token punctuation">(</span>
      devId<span class="token punctuation">,</span>      <span class="token comment">//Device id</span>
      taskMap     <span class="token comment">//Device action</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="a-list-of-devices-supported-by-obtaining-execution-action"><a name="a-list-of-devices-supported-by-obtaining-execution-action" class="anchor-navigation-ex-anchor" href="#a-list-of-devices-supported-by-obtaining-execution-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="a-list-of-devices-supported-by-obtaining-execution-action" class="plugin-anchor" href="#a-list-of-devices-supported-by-obtaining-execution-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetActionDevList">A List of Devices Supported by Obtaining Execution Action</span></h3>
<p><strong>Declaration</strong></p>
<p>Obtain a list of devices supporting scene actions for selecting to add to the action to be executed.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getTaskDevList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>home id</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p>Among them, the main properties of <code>DeviceBean</code> are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>device name</td>
</tr>
<tr>
<td>productId</td>
<td>String</td>
<td>product id</td>
</tr>
<tr>
<td>devId</td>
<td>String</td>
<td>device id</td>
</tr>
<tr>
<td>iconUrl</td>
<td>String</td>
<td>icon url</td>
</tr>
<tr>
<td>isOnline</td>
<td>Boolean</td>
<td>Device online status, note: use this method to get device online status getIsOnline ()</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTaskDevList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span></span> deviceBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-executable-actions-based-on-device-id"><a name="obtain-executable-actions-based-on-device-id" class="anchor-navigation-ex-anchor" href="#obtain-executable-actions-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a><a name="obtain-executable-actions-based-on-device-id" class="plugin-anchor" href="#obtain-executable-actions-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain Executable Actions Based on Device Id</h3>
<p><strong>Declaration</strong></p>
<p>It is used to obtain the tasks executed by the device when creating an action. The device id can be obtained from the <a href="#GetActionDevList">a list of devices supported by obtaining execution action</a></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getDeviceTaskOperationList</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>device id</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p>Among them, the main properties of <code>TaskListBean</code> are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Sting</td>
<td>dp point name for interface display</td>
</tr>
<tr>
<td>dpId</td>
<td>long</td>
<td>Device dpId</td>
</tr>
<tr>
<td>tasks</td>
<td>HashMap&lt;Object, String&gt;</td>
<td>Obtain the operation configured by the dp point,Format::{true, &quot;on&quot;},{false, &quot;off&quot;}</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Type of condition: bool, value, enum, etc.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceTaskOperationList</span><span class="token punctuation">(</span>
    devId<span class="token punctuation">,</span> <span class="token comment">//device id</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="2create-group-device-type-action"><a name="2create-group-device-type-action" class="anchor-navigation-ex-anchor" href="#2create-group-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="2create-group-device-type-action" class="plugin-anchor" href="#2create-group-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Group_Type">2.Create Group Device Type Action</span></h3>
<p><strong>Declaration</strong></p>
<p>It is used to create group device type actions.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneTask</span> <span class="token function">createDpGroupTask</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token keyword">long</span> groupId<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>groupId</td>
<td>group id</td>
</tr>
<tr>
<td>tasks</td>
<td>tasks to be implemented task format: { dpId: dp point value}</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> taskMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
taskMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Turn on the device</span>
<span class="token class-name">TuyaHomeSceneManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDpGroupTask</span><span class="token punctuation">(</span>
    groupId<span class="token punctuation">,</span>     <span class="token comment">//group id</span>
    taskMap     <span class="token comment">//Device action</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="a-list-of-group-devices-to-get-execution-action-support"><a name="a-list-of-group-devices-to-get-execution-action-support" class="anchor-navigation-ex-anchor" href="#a-list-of-group-devices-to-get-execution-action-support"><i class="fa fa-link" aria-hidden="true"></i></a><a name="a-list-of-group-devices-to-get-execution-action-support" class="plugin-anchor" href="#a-list-of-group-devices-to-get-execution-action-support"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetGroupActionDevList">A List of Group Devices to Get Execution Action Support</span></h3>
<p><strong>Declaration</strong></p>
<p>Obtain a list of devices that support scenario actions, including common devices and group devices, for selecting the actions to be added to.</p>
<pre class="language-"><code class="lang-java"><span class="token function">getTaskDevAndGoupList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneTaskGroupDevice</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>home id</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p>Among them, the main properties of <code>SceneTaskGroupDevice</code> are defined as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devices</td>
<td>List&lt;DeviceBean&gt;</td>
<td>List of common devices</td>
</tr>
<tr>
<td>goups</td>
<td>List&lt; GroupBean&gt;</td>
<td>Group device list</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTaskDevAndGoupList</span><span class="token punctuation">(</span>homeId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneTaskGroupDevice</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">SceneTaskGroupDevice</span> sceneTaskGroupDevice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span></span> deviceBeans <span class="token operator">=</span> sceneTaskGroupDevice<span class="token punctuation">.</span><span class="token function">getDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GroupBean</span><span class="token punctuation">&gt;</span></span> groupBeans <span class="token operator">=</span> sceneTaskGroupDevice<span class="token punctuation">.</span><span class="token function">getGoups</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-executable-actions-based-on-group-id"><a name="obtain-executable-actions-based-on-group-id" class="anchor-navigation-ex-anchor" href="#obtain-executable-actions-based-on-group-id"><i class="fa fa-link" aria-hidden="true"></i></a><a name="obtain-executable-actions-based-on-group-id" class="plugin-anchor" href="#obtain-executable-actions-based-on-group-id"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain Executable Actions Based on Group Id</h3>
<p><strong>Declaration</strong></p>
<p>It is used to obtain the tasks executed by the group device when creating an action. The group id can be obtained from the <a href="#GetGroupActionDevList">a list of group devices to get execution action support</a></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">getDeviceTaskOperationListByGroup</span><span class="token punctuation">(</span><span class="token class-name">String</span> goupId<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>groupId</td>
<td>group id</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceTaskOperationListByGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TaskListBean</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="3create-scenario-type-action"><a name="3create-scenario-type-action" class="anchor-navigation-ex-anchor" href="#3create-scenario-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="3create-scenario-type-action" class="plugin-anchor" href="#3create-scenario-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Scene_Type">3.Create Scenario Type Action</span></h3>
<p><strong>Declaration</strong></p>
<p>Scenario type actions are used to create scene type actions, including manual and automated scenarios. Parameters can be obtained through the <a href="#GetSceneList">scenario list interface</a></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneTask</span> <span class="token function">createSceneTask</span><span class="token punctuation">(</span><span class="token class-name">SceneBean</span> sceneBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>sceneBean</td>
<td>scene object</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSceneManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createSceneTask</span><span class="token punctuation">(</span>scnenBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="4create-delay-type-action"><a name="4create-delay-type-action" class="anchor-navigation-ex-anchor" href="#4create-delay-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="4create-delay-type-action" class="plugin-anchor" href="#4create-delay-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Delay_Type">4.Create Delay Type Action</span></h3>
<p><strong>Declaration</strong></p>
<p>Used to create a delay-type action. SDK version supports maximum delay time of 300 minutes after 3.13.3, and only supports 59 minutes and 59s before 3.13.3</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneTask</span> <span class="token function">createDelayTask</span><span class="token punctuation">(</span><span class="token keyword">int</span> minute<span class="token punctuation">,</span> <span class="token keyword">int</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>minutes</td>
</tr>
<tr>
<td>second</td>
<td>seconds</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSceneManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDelayTask</span><span class="token punctuation">(</span>
    <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment">//minutes</span>
    <span class="token number">2</span>    <span class="token comment">//seconds</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="5&#x3001;create-message-type-action"><a name="5&#x3001;create-message-type-action" class="anchor-navigation-ex-anchor" href="#5&#x3001;create-message-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><a name="5&#x3001;create-message-type-action" class="plugin-anchor" href="#5&#x3001;create-message-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Message_Type">5&#x3001;Create Message Type Action</span></h3>
<p><strong>Declaration</strong></p>
<p>Used to create a message type action.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">SceneTask</span> <span class="token function">createPushMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSceneManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createPushMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="sort-scene"><a name="sort-scene" class="anchor-navigation-ex-anchor" href="#sort-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="sort-scene" class="plugin-anchor" href="#sort-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Sort Scene</h3>
<p><strong>Declaration</strong></p>
<p>Manual scene or automation scene sorting. Note: Manual or automation scenes can only be sorted separately and cannot be shuffled.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">sortSceneList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sceneIds<span class="token punctuation">,</span> <span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>home Id</td>
</tr>
<tr>
<td>sceneIds</td>
<td>Scene id list</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sortSceneList</span><span class="token punctuation">(</span>
    homeId<span class="token punctuation">,</span> <span class="token comment">//home id</span>
    sceneIds<span class="token punctuation">,</span><span class="token comment">//Scene id list</span>
    <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="scene-background-images"><a name="scene-background-images" class="anchor-navigation-ex-anchor" href="#scene-background-images"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scene-background-images" class="plugin-anchor" href="#scene-background-images"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GET_BGS">Scene Background Images</span></h3>
<p><strong>Declaration</strong></p>
<p>Get scene background images</p>
<pre class="language-"><code class="lang-java"> <span class="token keyword">void</span> <span class="token function">getSceneBgs</span><span class="token punctuation">(</span><span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSceneBgs</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="single-scene-operation"><a name="single-scene-operation" class="anchor-navigation-ex-anchor" href="#single-scene-operation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="single-scene-operation" class="plugin-anchor" href="#single-scene-operation"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Single_Scene_Operation">Single Scene Operation</span></h2>
<p>TuyaHomeSdk provides four operations for creating, modifying, executing, and deleting a single scene. In addition to creating other operations, the scene ID needs to be initialized. The scene ID can be obtained from the interface of <a href="#GetSceneList">obtaining the scene list interface.</a></p>
<h3 id="create-scene"><a name="create-scene" class="anchor-navigation-ex-anchor" href="#create-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-scene" class="plugin-anchor" href="#create-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Create Scene</h3>
<p><strong>Declaration</strong></p>
<p>To add a scene, you need to pass in the Id of the family, the name of the scene, whether it is displayed on the homepage, the url of the background image, the condition list, the task list (at least one task), and the precondition list (valid time period, can not pass, the default is effective all day) , Executed when either or all of the conditions are met. You can also set only the name and task, background image, and no conditions, but you need to perform it manually.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>name</td>
<td>Scene name</td>
</tr>
<tr>
<td>stickyOnTop</td>
<td>whether it is displayed on the homepage</td>
</tr>
<tr>
<td>background</td>
<td>the url of the background image&#xFF0C;Can only use the background image provided in the [Get Scene Background Picture List] (#GET_BGS) interface</td>
</tr>
<tr>
<td>preConditions</td>
<td>Effective time period, which is passed in as a set of pre-condition objects, which may not be passed.</td>
</tr>
<tr>
<td>conditions</td>
<td>Scene trigger conditions</td>
</tr>
<tr>
<td>tasks</td>
<td>Scene execution tasks</td>
</tr>
<tr>
<td>matchType</td>
<td>Condition match type, &quot;AND&quot; or &quot;OR&quot;, default value: SceneBean.MATCH_TYPE_OR means that any condition is fulfilled, SceneBean.MATCH_TYPE_AND means that all conditions are met</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p>The <code>PreCondition</code> property is defined as follows</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Sting</td>
<td>The effective time period id. After the scene is created, it is automatically generated in the cloud, without manual setting.</td>
</tr>
<tr>
<td>condType</td>
<td>String</td>
<td>Please set PreCondition.TYPE_TIME_CHECK at present, which means the preset condition is the effective time period type</td>
</tr>
<tr>
<td>expr</td>
<td>PreConditionExpr</td>
<td>Precondition rule object</td>
</tr>
</tbody>
</table>
<p>The <code>PreConditionExpr</code> property is defined as follows</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>loops</td>
<td>String</td>
<td>A 7-character string, each of which indicates the day of the week, the first of which indicates Sunday, the second of which indicates Monday, and so on, and which days the automation takes effect. 0 means not selected, 1 means selected. For example, only Monday and Tuesday are selected: &quot;0110000&quot;. If neither of them is selected, it means it only takes effect once. Format: &quot;0000000&quot;</td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td>Start time (only the <code>TIMEINTERVAL_CUSTOM</code> custom type setting will take effect)</td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>End time (only the <code>TIMEINTERVAL_CUSTOM</code> custom type setting will take effect)</td>
</tr>
<tr>
<td>timeInterval</td>
<td>String</td>
<td>Effective time period type, <code>PreCondition.TIMEINTERVAL_ALLDAY</code> all day,<code>TIMEINTERVAL_NIGHT</code> night, <code>TIMEINTERVAL_DAYTIME</code> daytime,<code>TIMEINTERVAL_CUSTOM</code> custom</td>
</tr>
<tr>
<td>cityId</td>
<td>String</td>
<td>City Id, which can be obtained through [Get City List] (#GetCityList)</td>
</tr>
<tr>
<td>timeZoneId</td>
<td>String</td>
<td>Effective time zone</td>
</tr>
<tr>
<td>cityName</td>
<td>String</td>
<td>City &#x200B;&#x200B;name</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">//Data creation in effective period, can be empty</span>
<span class="token class-name">PreCondition</span> preCondition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PreCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PreConditionExpr</span> expr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PreConditionExpr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setCityName</span><span class="token punctuation">(</span><span class="token string">&quot;hangzhou&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setCityId</span><span class="token punctuation">(</span><span class="token string">&quot;xxxxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//cityId Available via city list interface</span>
expr<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span><span class="token string">&quot;00:00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setEnd</span><span class="token punctuation">(</span><span class="token string">&quot;23:59&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setLoops</span><span class="token punctuation">(</span><span class="token string">&quot;1111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setTimeInterval</span><span class="token punctuation">(</span><span class="token class-name">PreCondition</span><span class="token punctuation">.</span>TIMEINTERVAL_ALLDAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
preCondition<span class="token punctuation">.</span><span class="token function">setCondType</span><span class="token punctuation">(</span><span class="token class-name">PreCondition</span><span class="token punctuation">.</span>TYPE_TIME_CHECK<span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">setTimeZoneId</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preCondition<span class="token punctuation">.</span><span class="token function">setExpr</span><span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PreCondition</span><span class="token punctuation">&gt;</span></span> preConditions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
preConditions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>preCondition<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createScene</span><span class="token punctuation">(</span>
     <span class="token number">100001</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Morning&quot;</span><span class="token punctuation">,</span> <span class="token comment">//scene name</span>
    <span class="token string">&quot;https://images.png&quot;</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//Whether to display on the homepage</span>
    preConditions<span class="token punctuation">,</span> <span class="token comment">//Effective period, may not be transmitted</span>
    conditions<span class="token punctuation">,</span> <span class="token comment">//condition</span>
    tasks<span class="token punctuation">,</span>     <span class="token comment">//task</span>
    <span class="token class-name">SceneBean</span><span class="token punctuation">.</span>MATCH_TYPE_AND<span class="token punctuation">,</span> <span class="token comment">//Execution condition type</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">SceneBean</span> sceneBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;createScene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="modify-the-scene"><a name="modify-the-scene" class="anchor-navigation-ex-anchor" href="#modify-the-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="modify-the-scene" class="plugin-anchor" href="#modify-the-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Modify The Scene</h3>
<p><strong>Declaration</strong></p>
<p>It is used to modify the scene. After it succeeded, it will return to new scene data.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">modifyScene</span><span class="token punctuation">(</span><span class="token class-name">SceneBean</span> sceneReqBean<span class="token punctuation">,</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>sceneReqBean</td>
<td>Modified scene object</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">sceneBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;New name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Change Scene name</span>
sceneBean<span class="token punctuation">.</span><span class="token function">setConditions</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Change scene conditions</span>
sceneBean<span class="token punctuation">.</span><span class="token function">setActions</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Change scene action</span>

<span class="token class-name">String</span> sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Get the Scene id to initialize</span>
<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyScene</span><span class="token punctuation">(</span>
    sceneBean<span class="token punctuation">,</span>  <span class="token comment">//Modified Scene data class</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SceneBean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">SceneBean</span> sceneBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="delete-scene"><a name="delete-scene" class="anchor-navigation-ex-anchor" href="#delete-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="delete-scene" class="plugin-anchor" href="#delete-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Scene</h3>
<p><strong>Declaration</strong></p>
<p>For deleting scene</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">deleteScene</span><span class="token punctuation">(</span><span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">String</span> sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deleteScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> 
<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="execute-scene"><a name="execute-scene" class="anchor-navigation-ex-anchor" href="#execute-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="execute-scene" class="plugin-anchor" href="#execute-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Execute Scene</h3>
<p><strong>Declaration</strong></p>
<p>It is used to execute manual scene.</p>
<p>Note: This method only sends commands to the cloud execution scenario. If the specific device is executed successfully, you need to monitor the device&apos;s dp point change through TuyaHomeSdk.newDeviceInstance(devId).registerDevListener().</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">executeScene</span><span class="token punctuation">(</span><span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">String</span> sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Excute Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="turn-on-and-turn-off-the-automation-scene"><a name="turn-on-and-turn-off-the-automation-scene" class="anchor-navigation-ex-anchor" href="#turn-on-and-turn-off-the-automation-scene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="turn-on-and-turn-off-the-automation-scene" class="plugin-anchor" href="#turn-on-and-turn-off-the-automation-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Turn On and Turn Off The Automation Scene</h3>
<p><strong>Declaration</strong></p>
<p>It is used to turn on or off the automatic scene.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">enableScene</span><span class="token punctuation">(</span><span class="token class-name">String</span> sceneId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">disableScene</span><span class="token punctuation">(</span><span class="token class-name">String</span> sceneId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description </th>
</tr>
</thead>
<tbody>
<tr>
<td>sceneId</td>
<td>sceneId</td>
</tr>
<tr>
<td>callback</td>
<td>callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">String</span> sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enableScene</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">,</span><span class="token keyword">new</span> 
<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;enable Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">disableScene</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">,</span><span class="token keyword">new</span> 
<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;disable Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="erase"><a name="erase" class="anchor-navigation-ex-anchor" href="#erase"><i class="fa fa-link" aria-hidden="true"></i></a><a name="erase" class="plugin-anchor" href="#erase"><i class="fa fa-link" aria-hidden="true"></i></a>Erase</h3>
<p><strong>Declaration</strong></p>
<p>If the user exits the activity of the scene, the scene destruction method should be invoked to reclaim the memory and enhance the experience.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Group_control.html" class="navigation navigation-prev " aria-label="Previous page: Group Control">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="SmartScene_Manager.html#Smart" class="navigation navigation-next " aria-label="Next page: Smart Scene">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Smart Scene","level":"1.13","depth":1,"next":{"title":"Smart Scene","level":"1.13.1","depth":2,"anchor":"#Smart","path":"resource/SmartScene_Manager.md","ref":"./resource/SmartScene_Manager.md#Smart","articles":[]},"previous":{"title":"Group Control","level":"1.12.3","depth":2,"path":"resource/Group_control.md","ref":"./resource/Group_control.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","github-buttons","-sharing","anchor-navigation-ex","alerts","ga"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"java":"java"},"ignore":["sequence"]},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_android_sdk"},"livereload":{},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"alerts":{},"github-buttons":{"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"}]},"ga":{"configuration":"auto","token":"UA-161421048-1"},"sharing":{"all":[]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/SmartScene_Manager.md","mtime":"2020-03-19T14:12:20.865Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-20T06:20:29.720Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

