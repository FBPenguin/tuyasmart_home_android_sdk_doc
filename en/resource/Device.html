
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Device Control Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-gtalk/gtalk.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sf-score/style/scorePlugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Device.html" />
    
    
    <link rel="prev" href="Activator_zigbee_subdevice.html" />
    

    
        <link rel="shortcut icon" href='../zh-hans/resource/images/bitbug_favicon.ico' type="image/x-icon">
    
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    User Uid Login System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_ThirdLogin.html">
            
                <a href="User_ThirdLogin.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_update.html">
            
                <a href="User_update.html">
            
                    
                    Modify User Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_logout.html">
            
                <a href="User_logout.html#logout-interface">
            
                    
                    Sign Out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_logout.html">
            
                <a href="User_logout.html#disable-account">
            
                    
                    Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="User_model.html">
            
                <a href="User_model.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Home.html">
            
                <a href="Home.html">
            
                    
                    Home Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="HomeManager.html">
            
                <a href="HomeManager.html">
            
                    
                    Home Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="HomeDataManager.html">
            
                <a href="HomeDataManager.html">
            
                    
                    Home Data Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="HomeMember.html">
            
                <a href="HomeMember.html">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Activator_wifi.html">
            
                <a href="Activator_wifi.html">
            
                    
                    Wi-Fi Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_wifi_ez.html">
            
                <a href="Activator_wifi_ez.html">
            
                    
                    EZ Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_wifi_ap.html">
            
                <a href="Activator_wifi_ap.html">
            
                    
                    AP Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Activator_camera_scan.html">
            
                <a href="Activator_camera_scan.html">
            
                    
                    Camera scan code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Activator_wifi_faq.html">
            
                <a href="Activator_wifi_faq.html">
            
                    
                    Wi-Fi Common Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator_zigbee.html">
            
                <a href="Activator_zigbee.html">
            
                    
                    ZigBee Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator_zigbee_gateway.html">
            
                <a href="Activator_zigbee_gateway.html">
            
                    
                    ZigBee Gateway Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator_zigbee_subdevice.html">
            
                <a href="Activator_zigbee_subdevice.html">
            
                    
                    ZigBee Sub-device Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html#device-information-acquisition">
            
                    
                    Device Information Acquisition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Device.html">
            
                <a href="Device.html#initial-device-control">
            
                    
                    Initial Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device.html">
            
                <a href="Device.html#register-device-listener">
            
                    
                    Register Device Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Device.html">
            
                <a href="Device.html#unregister-device-listener">
            
                    
                    Unregister Device Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Device.html">
            
                <a href="Device.html#device-control-method">
            
                    
                    Device Control Method
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="Device.html">
            
                <a href="Device.html#function-points-of-device">
            
                    
                    Function Points of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="Device.html">
            
                <a href="Device.html#rename-device">
            
                    
                    Rename Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="Device.html">
            
                <a href="Device.html#reset-the-device-restore-factory-settings">
            
                    
                    Reset The Device (Restore Factory Settings)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="Device.html">
            
                <a href="Device.html#query-wi-fi-signal-strength">
            
                    
                    Query Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="Device.html">
            
                <a href="Device.html#recycling-device-resources">
            
                    
                    Recycling Device Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.14" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    ZigBee Gateway Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Shared Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared_Device_add.html">
            
                <a href="Shared_Device_add.html">
            
                    
                    Add for Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared_Device_Remove.html">
            
                <a href="Shared_Device_Remove.html">
            
                    
                    Removing Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Shared_Device_Rename.html">
            
                <a href="Shared_Device_Rename.html">
            
                    
                    Modifying Remark Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group_wifi.html">
            
                <a href="Group_wifi.html">
            
                    
                    Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group_zigbee.html">
            
                <a href="Group_zigbee.html">
            
                    
                    Zigbee Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group_control.html">
            
                <a href="Group_control.html">
            
                    
                    Group Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Smart">
            
                    
                    Smart Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Single_Scene_Operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="MessagePush.html">
            
                <a href="MessagePush.html">
            
                    
                    Message Push Switch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#scanning-device">
            
                    
                    Scan Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#single-ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="BLE_Operator.html">
            
                <a href="BLE_Operator.html">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="BLE_OTA.html">
            
                <a href="BLE_OTA.html">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="SigMesh_Prepare.html">
            
                <a href="SigMesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="SigMesh_IDEA.html">
            
                <a href="SigMesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="SigMesh_Admin.html">
            
                <a href="SigMesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="SigMesh_Config.html">
            
                <a href="SigMesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="SigMesh_Device.html">
            
                <a href="SigMesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="SigMesh_Group_Operate.html">
            
                <a href="SigMesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.7" data-path="SigMesh_Device_Operate.html">
            
                <a href="SigMesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="SigMesh_OTA.html">
            
                <a href="SigMesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="Mesh_Prepare.html">
            
                <a href="Mesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="Mesh_IDEA.html">
            
                <a href="Mesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="Mesh_Admin.html">
            
                <a href="Mesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="Mesh_Config.html">
            
                <a href="Mesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="Mesh_Device.html">
            
                <a href="Mesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="Mesh_Group_Operate.html">
            
                <a href="Mesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.7" data-path="Mesh_Device_Operate.html">
            
                <a href="Mesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.8" data-path="Mesh_OTA.html">
            
                <a href="Mesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Extension.html">
            
                <a href="Extension.html#ipc-sdk">
            
                    
                    IPC SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Extension.html">
            
                <a href="Extension.html#sweeper-sdk">
            
                    
                    Sweeper SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Extension.html">
            
                <a href="Extension.html#lock-sdk-beta">
            
                    
                    Tuya Smart Lock SDK
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="FAQ.html">
            
                <a href="FAQ.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="Update_3_14_0.html">
            
                <a href="Update_3_14_0.html">
            
                    
                    Upgrade guide before 3.13.0 to version after 3.14.x
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Device Control</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#device-control"><b></b>Device Control</a></li><ul><li><span class="title-icon "></span><a href="#device-information-acquisition"><b></b>Device Information Acquisition</a></li><li><span class="title-icon "></span><a href="#initial-device-control"><b></b>Initial Device Control</a></li><li><span class="title-icon "></span><a href="#register-device-listener"><b></b>Register Device Listener</a></li><li><span class="title-icon "></span><a href="#unregister-device-listener"><b></b>Unregister Device Listener</a></li><li><span class="title-icon "></span><a href="#device-control-method"><b></b>Device Control Method</a></li><li><span class="title-icon "></span><a href="#function-points-of-device"><b></b>Function Points of Device</a></li><li><span class="title-icon "></span><a href="#querying-device-information"><b></b>Querying Device Information</a></li><li><span class="title-icon "></span><a href="#rename-device"><b></b>Rename Device</a></li><li><span class="title-icon "></span><a href="#reset-the-device-restore-factory-settings"><b></b>Reset The Device (Restore Factory Settings)</a></li><li><span class="title-icon "></span><a href="#remove-device"><b></b>Remove Device</a></li><li><span class="title-icon "></span><a href="#query-wi-fi-signal-strength"><b></b>Query Wi-Fi Signal Strength</a></li><li><span class="title-icon "></span><a href="#recycling-device-resources"><b></b>Recycling Device Resources</a></li></ul></ul></div><a href="#device-control" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="device-control"><a name="device-control" class="anchor-navigation-ex-anchor" href="#device-control"><i class="fa fa-link" aria-hidden="true"></i></a><a name="device-control" class="plugin-anchor" href="#device-control"><i class="fa fa-link" aria-hidden="true"></i></a>Device Control</h1>
<p>Tuya Smart provides a lot of interfaces for developers to realize the acquisition of device information and management capabilities (removal, and so on). Receivers shall be informed of the device-related return data by means of asynchronous messages.</p>
<table>
<thead>
<tr>
<th>ClassName</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ITuyaDevice</td>
<td>The ITuyaDevice class provides the device status notification capability. By registering callback functions, developers can easily obtain notifications on device data reception, device removal, online/offline status of device, and mobile network changes. In addition, it also provides an interface for controlling command issuing and device firmware upgrade.</td>
</tr>
</tbody>
</table>
<h2 id="device-information-acquisition"><a name="device-information-acquisition" class="anchor-navigation-ex-anchor" href="#device-information-acquisition"><i class="fa fa-link" aria-hidden="true"></i></a><a name="device-information-acquisition" class="plugin-anchor" href="#device-information-acquisition"><i class="fa fa-link" aria-hidden="true"></i></a>Device Information Acquisition</h2>
<p>The device control must first initialize the data, and call the following method to get the device information in the home&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newHomeInstance</span><span class="token punctuation">(</span>homeId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHomeDetail</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaHomeResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">HomeBean</span> homeBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The <code>onSuccess</code> method of this interface will return <code>HomeBean</code>, and then call <code>getDeviceList</code> of <code>HomeBean</code> to get the device list:</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DeviceBean</span><span class="token punctuation">&gt;</span></span> deviceList <span class="token operator">=</span> homeBean<span class="token punctuation">.</span><span class="token function">getDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The fields in <code>DeviceBean</code> are as follows:</p>
<p><strong>DeviceBean Data Model</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>iconUrl</td>
<td>String</td>
<td>device icon</td>
</tr>
<tr>
<td>IsOnline</td>
<td>Boolean</td>
<td>Whether the device is online (LAN or Cloud Online)</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>device&apos;s name</td>
</tr>
<tr>
<td>schema</td>
<td>String</td>
<td>Device Control Data Point Type Information</td>
</tr>
<tr>
<td>productId</td>
<td>String</td>
<td>Product ID, the same product ID, Schema information consistent</td>
</tr>
<tr>
<td>supportGroup</td>
<td>Boolean</td>
<td>whether the device support groups? If not, you can go to the open platform to turn on this feature</td>
</tr>
<tr>
<td>Time</td>
<td>Long</td>
<td>Device Activation Time</td>
</tr>
<tr>
<td>pv</td>
<td>String</td>
<td>Gateway Protocol Version</td>
</tr>
<tr>
<td>bv</td>
<td>String</td>
<td>Gateway Universal Firmware Version</td>
</tr>
<tr>
<td>schemaMap</td>
<td>Map</td>
<td>Schema Cached Data</td>
</tr>
<tr>
<td>dps</td>
<td>Map</td>
<td>Device Data</td>
</tr>
<tr>
<td>isShare</td>
<td>Boolean</td>
<td>a shared device</td>
</tr>
<tr>
<td>virtual</td>
<td>Boolean</td>
<td>is it a virtual device</td>
</tr>
<tr>
<td>lon, lat</td>
<td>String</td>
<td>Longitude and Latitude Information</td>
</tr>
<tr>
<td>IsLocalOnline</td>
<td>Boolean</td>
<td>Device LAN Online Status</td>
</tr>
<tr>
<td>nodeId</td>
<td>String</td>
<td>Device for gateway and subdevice type, which is an attribute of the subdevice and identifies its short address ID which one gateway have a unique nodeId for each subdevice</td>
</tr>
<tr>
<td>timezoneId</td>
<td>String</td>
<td>Device time zone</td>
</tr>
<tr>
<td>category</td>
<td>String</td>
<td>Device Type</td>
</tr>
<tr>
<td>MeshId</td>
<td>String</td>
<td>Device for gateway and subdevice type, which is an attribute of subdevice and identifies its gateway ID</td>
</tr>
<tr>
<td>devId</td>
<td>String</td>
<td>Device unique identifier id</td>
</tr>
<tr>
<td>isZigBeeWifi</td>
<td>boolean</td>
<td>Is it a ZigBee gateway device?</td>
</tr>
<tr>
<td>hasZigBee</td>
<td>boolean</td>
<td>hasZigBee</td>
</tr>
</tbody>
</table>
<p><strong>Notes</strong></p>
<p> If device control need to use the latitude and longitude, you need to call the method to set the latitude and longitude:</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaSdk</span><span class="token punctuation">.</span><span class="token function">setLatAndLong</span><span class="token punctuation">(</span><span class="token class-name">String</span> latitude<span class="token punctuation">,</span> <span class="token class-name">String</span> longitude<span class="token punctuation">)</span>
</code></pre>
<h2 id="initial-device-control"><a name="initial-device-control" class="anchor-navigation-ex-anchor" href="#initial-device-control"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initial-device-control" class="plugin-anchor" href="#initial-device-control"><i class="fa fa-link" aria-hidden="true"></i></a>Initial Device Control</h2>
<p><strong>Declaration</strong></p>
<p>Initialize the device control class based on the device id</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newDeviceInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span> mDevice <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newDeviceInstance</span><span class="token punctuation">(</span>deviceBean<span class="token punctuation">.</span><span class="token function">getDevId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="register-device-listener"><a name="register-device-listener" class="anchor-navigation-ex-anchor" href="#register-device-listener"><i class="fa fa-link" aria-hidden="true"></i></a><a name="register-device-listener" class="plugin-anchor" href="#register-device-listener"><i class="fa fa-link" aria-hidden="true"></i></a>Register Device Listener</h2>
<p><strong>Declaration</strong></p>
<p>TuyaHomeDevice provide monitoring of device related information (dp data, device name, device online status and device removal), which will be synchronized here in real time.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">registerDevListener</span><span class="token punctuation">(</span><span class="token class-name">IDevListener</span> listener<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>listener</td>
<td>device status listener</td>
</tr>
</tbody>
</table>
<p><code>IDevListener</code> interface is as follows&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDevListener</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * dp data update
     *
     * @param devId device id
     * @param dpStr the function point of the device change. It is a json string with the data format: {&quot;101&quot;: true}
     */</span>
    <span class="token keyword">void</span> <span class="token function">onDpUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">String</span> dpStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Device removal callback
     *
     * @param devId device id
     */</span>
    <span class="token keyword">void</span> <span class="token function">onRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Device online and offline callback
     *
     * @param devId  device id
     * @param online Whether online, online is true
     */</span>
    <span class="token keyword">void</span> <span class="token function">onStatusChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> online<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * network status changes
     *
     * @param devId  device id
     *  @param status Whether the network status is available, true is available
     */</span>
    <span class="token keyword">void</span> <span class="token function">onNetworkStatusChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Device information update callback
     *
     * @param devId  device id
     */</span>
    <span class="token keyword">void</span> <span class="token function">onDevInfoUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>Among them, the description of the device function point is described in the &quot;<a href="#function-points-of-device">Function Points of Device</a>&quot; in the next section of the document.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">registerDevListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IDevListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDpUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">String</span> dpStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStatusChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> online<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNetworkStatusChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDevInfoUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="unregister-device-listener"><a name="unregister-device-listener" class="anchor-navigation-ex-anchor" href="#unregister-device-listener"><i class="fa fa-link" aria-hidden="true"></i></a><a name="unregister-device-listener" class="plugin-anchor" href="#unregister-device-listener"><i class="fa fa-link" aria-hidden="true"></i></a>Unregister Device Listener</h2>
<p>When you do not need to listen to the device, you can unregister the device listener.</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">unRegisterDevListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">unRegisterDevListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="device-control-method"><a name="device-control-method" class="anchor-navigation-ex-anchor" href="#device-control-method"><i class="fa fa-link" aria-hidden="true"></i></a><a name="device-control-method" class="plugin-anchor" href="#device-control-method"><i class="fa fa-link" aria-hidden="true"></i></a>Device Control Method</h2>
<p>The device control interface function is to send function points to the device to change the device status or function.</p>
<p><strong>Declaration</strong></p>
<p>Device control supports three kinds of channel control, LAN control, cloud control, and automatic mode (if LAN is online, first go LAN control, LAN is not online, go cloud control)</p>
<ul>
<li><p>control by local area network</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> <span class="token class-name">TYDevicePublishModeEnum</span><span class="token punctuation">.</span><span class="token class-name">TYDevicePublishModeLocal</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li><p>control by internet</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> <span class="token class-name">TYDevicePublishModeEnum</span><span class="token punctuation">.</span><span class="token class-name">TYDevicePublishModeInternet</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li><p>automatic control mode selection</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> <span class="token class-name">TYDevicePublishModeEnum</span><span class="token punctuation">.</span><span class="token class-name">TYDevicePublishModeAuto</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>or</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaDevice</span><span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<p>Recommended use <code>ITuyaDevice.publishDps(dps, callback)</code></p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dps</td>
<td>data points, device function point, format is json string</td>
</tr>
<tr>
<td>publishModeEnum</td>
<td>device control mode</td>
</tr>
<tr>
<td>callback</td>
<td>Callback to send control instruction success</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Assuming that the function point of the device that turns on the light is 101, the control code for turning on the light is as follows:</p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;101\&quot;: true}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> <span class="token string">&quot;turn on the light failure&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> <span class="token string">&quot;turn on the light success&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Notes]</strong></p>
<blockquote>
<ul>
<li>The successful issuing of a command does not mean that the device is successfully operated, but only means that the command has been successfully sent. If the operation succeeds, the dp data information will be reported, and returned through the IDevListener onDpUpdate interface.</li>
<li>The command string is converted to JsonString in the format of Map<string dpid,object="" dpvalue="">.</string></li>
<li>The command can send multiple dp data at a time.</li>
</ul>
</blockquote>
<h2 id="function-points-of-device"><a name="function-points-of-device" class="anchor-navigation-ex-anchor" href="#function-points-of-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="function-points-of-device" class="plugin-anchor" href="#function-points-of-device"><i class="fa fa-link" aria-hidden="true"></i></a>Function Points of Device</h2>
<p>The dps attribute of the DeviceBean class defines the state of the device, and is called the data point (DP) or the function point. Each key in the dps dictionary refers to a dpId of a function point, and the dpValue is the value of the function point. Refer to the functions of product on the <a href="https://iot.tuya.com/index" target="_blank">Tuya developer platform </a>for definition of function points of products. For details of function points, please refer to the <a href="https://docs.tuya.com/zh/iot/configure-in-platform/function-definition/custom-functions#%E5%8A%9F%E8%83%BD%E7%82%B9%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5" target="_blank">Functional Point Related Concepts</a></p>
<p><strong>Command Format</strong></p>
<p>The control commands shall be sent in the format given below. {&quot;(dpId)&quot;:&quot;(dpValue)&quot;}</p>
<p><strong>Example of Function Point</strong></p>
<p>A product interface on the development platform is as follows:<img src="images/ios_dp_sample.jpeg" alt="&#x529F;&#x80FD;&#x70B9;"> </p>
<p>According to the definition of function points of the product in the back end, the example codes is as follows.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// Example for boolean type function point with dpId set to 101. Function: turn on switch. </span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;101&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Example of string type function point with dpId set to 102. Function: set RGB to ff5500.</span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;102&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ff5500&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Example of enumeration type function point with dpId set to 103. Function: set gear to position 2.</span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;103&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Example of value type function point with dpId set to 104. Function: set temperature to 20 centigrade degree.</span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;104&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Example of transparent (byte array) function point with dpId set to 105. Function: transparently transfer infrared data (i.e., 1122).</span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;105&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1122&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Send multiple dp data in one time.</span>

dps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;101&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;102&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ff5500&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

mDevice<span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">//Error code 11001</span>
        <span class="token comment">//In the following cases:</span>
        <span class="token comment">//1. Type error send to, for example, string type format, being        sent to boolean type data</span>
        <span class="token comment">//2. Read-only type DP data can not be sent. Reference to SchemaBean getMode &quot;ro&quot; is read-only type.</span>
        <span class="token comment">//3, raw format send data format is not a hexadecimal string.</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Notes</strong></p>
<ul>
<li>Special attention shall be paid to the type of data in sending the control commands. 
   For example, the data type of function points shall be value, and {&quot;104&quot;: 25} shall be sent as the control command, instead of {&quot;104&quot;: &quot;25&quot;}.</li>
<li>For the transparent transmission, the byte array shall be the string format, and the string must have even bits. 
   The correct format shall be: {&quot;105&quot;: &quot;0110&quot;}, instead of {&quot;105&quot;: &quot;110&quot;}.</li>
</ul>
<h2 id="querying-device-information"><a name="querying-device-information" class="anchor-navigation-ex-anchor" href="#querying-device-information"><i class="fa fa-link" aria-hidden="true"></i></a><a name="querying-device-information" class="plugin-anchor" href="#querying-device-information"><i class="fa fa-link" aria-hidden="true"></i></a>Querying Device Information</h2>
<p><strong>Declaration</strong></p>
<p>Query single dp data.</p>
<p>Query the latest data of the dp from the device; those data will be called back via the IDevicePanelCallback onDpUpdate interface.</p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">getDp</span><span class="token punctuation">(</span><span class="token class-name">String</span> dpId<span class="token punctuation">,</span> <span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">getDp</span><span class="token punctuation">(</span>dpId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Notes</strong></p>
<ul>
<li>This interface is mainly for the dp points where the data will not be reported automatically. The dp data values for regular query can be obtained through getDps() in DeviceBean.</li>
</ul>
<h2 id="rename-device"><a name="rename-device" class="anchor-navigation-ex-anchor" href="#rename-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="rename-device" class="plugin-anchor" href="#rename-device"><i class="fa fa-link" aria-hidden="true"></i></a>Rename Device</h2>
<p><strong>Declaration</strong></p>
<p>Device renaming can be conducted in multiple devices synchronously.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// Rename</span>
mDevice<span class="token punctuation">.</span><span class="token function">renameDevice</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">renameDevice</span><span class="token punctuation">(</span><span class="token string">&quot;device name&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Renaming failed</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Renaming succeeded</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>After renaming succeeded, IDevListener.onDevInfoUpdate() will be notified.</p>
<p>Invoke the following method to get the latest data, and then refresh the device information.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeDataManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="reset-the-device-restore-factory-settings"><a name="reset-the-device-restore-factory-settings" class="anchor-navigation-ex-anchor" href="#reset-the-device-restore-factory-settings"><i class="fa fa-link" aria-hidden="true"></i></a><a name="reset-the-device-restore-factory-settings" class="plugin-anchor" href="#reset-the-device-restore-factory-settings"><i class="fa fa-link" aria-hidden="true"></i></a>Reset The Device (Restore Factory Settings)</h2>
<p><strong>Declaration</strong></p>
<p>Used to reset the device and restore the factory settings, After the device is restored to the factory settings, it will re-enter the network to be distributed state (smart config mode), and the relevant data of the device will be cleared.<a href=""></a></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">resetFactory</span><span class="token punctuation">(</span><span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span>&#xFF1B;
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">resetFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="remove-device"><a name="remove-device" class="anchor-navigation-ex-anchor" href="#remove-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="remove-device" class="plugin-anchor" href="#remove-device"><i class="fa fa-link" aria-hidden="true"></i></a>Remove Device</h2>
<p><strong>Declaration</strong></p>
<p>It is used to remove a device from the list of user devices.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
* Remove device
*
* @param callback
*/</span>

<span class="token keyword">void</span> <span class="token function">removeDevice</span><span class="token punctuation">(</span><span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">removeDevice</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="query-wi-fi-signal-strength"><a name="query-wi-fi-signal-strength" class="anchor-navigation-ex-anchor" href="#query-wi-fi-signal-strength"><i class="fa fa-link" aria-hidden="true"></i></a><a name="query-wi-fi-signal-strength" class="plugin-anchor" href="#query-wi-fi-signal-strength"><i class="fa fa-link" aria-hidden="true"></i></a>Query Wi-Fi Signal Strength</h2>
<p><strong>Declaration</strong></p>
<p>Query the signal strength of the current device&apos;s Wi-Fi</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">requestWifiSignal</span><span class="token punctuation">(</span><span class="token class-name">WifiSignalListener</span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">requestWifiSignal</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WifiSignalListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

     <span class="token annotation punctuation">@Override</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSignalValueFind</span><span class="token punctuation">(</span><span class="token class-name">String</span> signal<span class="token punctuation">)</span> <span class="token punctuation">{</span>

     <span class="token punctuation">}</span>

     <span class="token annotation punctuation">@Override</span>
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

     <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="recycling-device-resources"><a name="recycling-device-resources" class="anchor-navigation-ex-anchor" href="#recycling-device-resources"><i class="fa fa-link" aria-hidden="true"></i></a><a name="recycling-device-resources" class="plugin-anchor" href="#recycling-device-resources"><i class="fa fa-link" aria-hidden="true"></i></a>Recycling Device Resources</h2>
<p><strong>Declaration</strong></p>
<p>When the application or Activity is closed, this interface can be called to recycle the resources occupied by the device.</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">mDevice<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>window.onload = function() {gitbook.events.on("page.change", function() {var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/Device.html"});gitalk.render("gitalk-container");});};var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/Device.html"});gitalk.render("gitalk-container");</script></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Activator_zigbee_subdevice.html" class="navigation navigation-prev " aria-label="Previous page: ZigBee Sub-device Configuration">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Device.html#device-information-acquisition" class="navigation navigation-next " aria-label="Next page: Device Information Acquisition">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Device Control","level":"1.9","depth":1,"next":{"title":"Device Information Acquisition","level":"1.9.1","depth":2,"anchor":"#device-information-acquisition","path":"resource/Device.md","ref":"./resource/Device.md#device-information-acquisition","articles":[]},"previous":{"title":"ZigBee Sub-device Configuration","level":"1.8.2","depth":2,"path":"resource/Activator_zigbee_subdevice.md","ref":"resource/Activator_zigbee_subdevice.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","github-buttons","anchor-navigation-ex","alerts","ga","expandable-chapters-small","favicon","pageview-count","gtalk","language-picker","hide-element","sf-score"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"java":"java"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_android_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"gtalk":{"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"favicon":{"shortcut":"zh-hans/resource/images/bitbug_favicon.ico"},"pageview-count":{},"alerts":{},"github-buttons":{"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]},"sf-score":{},"expandable-chapters-small":{},"ga":{"configuration":"auto","token":"UA-161421048-1"},"sharing":{"facebook":true,"twitter":true,"google":true,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Device.md","mtime":"2020-04-17T01:29:57.360Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-26T08:20:28.830Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sf-score/lib/scorePlugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

